高级语法：比如 JS 新增语法，高级技巧等等



#### 1. 作用域链

本质上是底层的变量查找机制

在函数被执行时，会优先查找当前函数作用域，找不到则依次逐级查找父级作用域（就近原则）；==只和函数声明的位置有关，跟函数的调用者和在哪儿调用无关==



#### 2. 垃圾回收机制

栈：由操作系统自动分配释放函数的参数值、局部变量等。基本数据类型放到栈里面

堆：一般由程序员分配释放，若程序员不释放，由垃圾回收机制回收。复杂数据类型放到堆里面

常见浏览器垃圾回收算法：引用计数法和标记清除法

##### 2.1. 引用计数（基本废弃）

IE 采用的引用计数算法，定义为“内存不再使用”，就是看一个对象是否有指向它的引用，没有引用就回收

算法：跟踪记录被引用的次数，被引用（有地址指向它）就加1，减少（一般采用赋值为 null 的方式）引用就减1，为0则释放内存；但存在问题，当两个对象互相引用时，引用次数无法归零，导致内存泄漏

##### 2.2. 标记清除法

定义为“无法达到的对象”，就是从根部（在js中就是全局对象）出发定时扫描内存中的对象，扫描不到的被标记为不再使用，稍后回收



#### 3. 闭包

概念：一个函数对周围状态的引用捆绑在一起，内层函数中访问到其外层函数的作用域

简单理解：闭包 = 内层函数 + 外层函数的变量 （内层函数使用了外层函数的变量）

作用：封闭数据，提供操作，==使外部也可以访问函数内部的变量==

```js
function outer() {
    let i = 1
    function fn() {
        return i
    }
    return fn
}
const fun = outer()
let x = fun() // 函数的外部拿到了函数内的局部变量
```

应用：实现数据的私有；比如可用于统计函数的调用次数（全局变量的话会被随意修改，通过闭包就可实现私有）

闭包存在内存泄漏























