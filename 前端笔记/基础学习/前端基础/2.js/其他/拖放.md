```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>拖放</title>
    <script>
      function drag(ev) {
        // Text 是一个 DOMString 表示要添加到 drag object 的拖动数据的类型。值是可拖动元素的 id ("drag1")。
        ev.dataTransfer.setData("Text", ev.target.id);
      }
      //默认地，无法将数据/元素放置到其他元素中。如果需要设置允许放置，我们必须阻止对元素的默认处理方式。
      function allow(ev) {
        ev.preventDefault();
      }
      function drop(ev) {
        ev.preventDefault();
        var data = ev.dataTransfer.getData("Text");
        ev.target.appendChild(document.getElementById(data));
      }
    </script>
  </head>
  <body>
    <!-- ondragstart规定当元素被拖动时，会发生什么 -->
    <img
      id="drag1"
      src="images/01.jpg"
      draggable="true"
      ondragstart="drag(event)"
      width="336"
      height="69"
    />
    <p>分割</p>
    <!-- 当放置被拖数据是，会发生drop事件 -->
    <div
      id="div1"
      ondragover="allow(event)"
      ondrop="drop(event)"
      style="height: 70px; width: 350px; border: 1px solid red"
    ></div>
  </body>
</html>

```



```js
div1.onmousedown = function(e){
  let dx = e.clientX - div1.offsetLeft;
  let dy = e.clientY - div1.offsetTop;
  document.onmousemove = function(e){
    let x = e.clientX - dx;
    let y = e.clientY - dy;
    div1.style.left = x + "px";
    div1.style.top = y + "px";
  }
}
document.onmouseup = function(){
  document.onmousemove = null;
}
```

