##### 1. 函数组件参数写法

```tsx
const CategoryForm: React.FC<ICateFormProps> = (props: ICateFormProps) => {}
```

需通过泛型规定参数类型

##### 2. Braft Editor

官网地址：https://braft.margox.cn/

React 富文本编辑器，但似乎不适配最新版 react ，可搜索其他适配的富文本编辑器插件

安装：`npm install braft-editor --save`

##### 3. ProComponents

是基于 Ant Design 封装的高级组件库，官网地址：https://procomponents.ant.design/

##### 4. RTK 中状态的类型声明

```ts
export type RootState = ReturnType<typeof store.getState>;
```

需要传递给 useSelector 使用，如：`const user = useSelector((state: RootState) => state.user);`

对于这种情况也可对 useSelector 封装一下

##### 5. 参数类型名称

对于函数式组件采用 `I + 组件名 + Props` ，对于函数则采用 `I + 函数名 + Params`

##### 6. 使用 store2 操作本地存储

安装：`npm i store2`

```js
store2('user', { name:'Marcus' })  // 向 localStorage 存储 user 数据
store2.get('user')  //提取 localStorage 中的 user 数据
store2.remove('user') //删除 localStorage 中的 user 数据
store2.session('user', { name:'Marcus' })   // 向 sessionStorage 存储 user 数据
store2.session.get('user')   // 提取 sessionStorage 中的 user 数据
store2.session.remove('user')   // 删除 sessionStorage 中的 user数据
```

##### 7. 使用 lodash-es 进行深拷贝

安装：`npm i lodash-es @types/lodash-es`

```tsx
import { cloneDeep } from "lodash-es"
let deepData = cloneDeep(data)
```

##### 8. styled-components 库的使用

可以让我们在 js 中写 css ，方便代码的管理

安装 vscode-styled-components 插件，提供代码高亮及提示

安装：`npm i styled-components @types/styled-components`

```tsx
import styled from "styled-components";
export default function DashBoard(props: IDashBoardProps) {
  return (
    <div>
      <Chart></Chart>
      <Chart></Chart>
      <Chart></Chart>
    </div>
  );
}

// 样式一般写在后面
const Chart = styled.div`
  height: 300px;
  border: 1px solid red;
`;
```

##### 9. 高德地图的使用

高德开放平台地址：https://lbs.amap.com/

JS API 结合 React 使用：https://lbs.amap.com/api/javascript-api-v2/guide/abc/amap-react

安装：`npm i @amap/amap-jsapi-loader --save`

```tsx
import styled from "styled-components";
import AMapLoader from "@amap/amap-jsapi-loader";
import { useEffect } from "react";

export interface IMapProps {}
export default function Map(props: IMapProps) {
  useEffect(() => {
    // 初始化地图
    AMapLoader.load({
      key: "9919b85b2b2ed7995c35a5dce93cd25e", // 申请好的Web端开发者Key，首次调用 load 时必填
      version: "2.0", // 指定要加载的 JSAPI 的版本，缺省时默认为 1.4.15
      plugins: [""], // 需要使用的的插件列表，如比例尺'AMap.Scale'等
    })
      .then((AMap) => {
        let map = new AMap.Map("container", {
          // 设置地图容器id
          viewMode: "3D", // 是否为3D地图模式
          zoom: 5, // 初始化地图级别
          center: [105.602725, 37.076636], // 初始化地图中心点位置
        });
      })
      .catch((e) => {
        console.log(e);
      });
  }, []);
  return (
    <div>
      <MapContainer id="container">地图加载中...</MapContainer>
    </div>
  );
}

const MapContainer = styled.div`
  height: 500px;
  border: 1px solid red;
`;
```

##### 10. excel 导出

安装：`npm i js-export-excel` ，文档地址：https://www.npmjs.com/package/js-export-excel

```tsx
const ExportJsonExcel = require("js-export-excel");

const handleExport = () => {
  var option: any = {}; // 导出文件相关配置
  option.fileName = "轮播图数据"; // 导出的文件名
  option.datas = [
    // 配置 excel 表格内部数据，一个对象为一张表
    {
      sheetData: data,  // 一般是个数组，数组元素为对象
      sheetName: "轮播图",
      sheetFilter: ["name", "img", "url", "desc"], // 控制每一列中需要渲染的字段
      // sheetHeader: ["轮播名称", "轮播图片", "超链接", "轮播描述"], //每一列的头部标题信息
      sheetHeader: ["name", "img", "url", "desc"], //方便后续导入，导入时会将其作为属性名
      columnWidths: [20, 20],
    },
  ];

  var toExcel = new ExportJsonExcel(option);
  toExcel.saveExcel(); //导出为 excel 
};
```

##### 11. excel 导入

安装：`npm i xlsx` ，文档地址：https://www.npmjs.com/package/xlsx

基本使用介绍：https://www.cnblogs.com/ajaemp/p/12880847.html

```tsx
import * as XLSX from "xlsx";

const importExcel = () => {
  // 1. 获取文件
  const file = (document.getElementById("fileRef") as HTMLInputElement).files![0];
  const reader = new FileReader();  // 原生 js 自带的构造函数，专门用来读取文件
  reader.readAsBinaryString(file); // 转成 二进制格式
  reader.onload = function () {
    const workbook = XLSX.read(this.result, { type: "binary" });
    const t = workbook.Sheets["轮播图"]; // 【！注意！】拿到表格数据,需要跟表格文件内部的表名一致
    // console.log(t)
    const r: any = XLSX.utils.sheet_to_json(t); // 2. 转换成json格式
    // console.log(r)
    setBanner(r);
    // 将r的数据上传至服务器
    console.log("json数据", r);

    //方法2，导出为html
    var container = document.getElementById("cont");
    (container as HTMLDivElement).innerHTML = XLSX.utils.sheet_to_html(t);
    console.log("html数据", XLSX.utils.sheet_to_html(t));
  };
};

<input type="file" hidden id="fileRef" onChange={importExcel} />  // 可以隐藏该输入框，通过另一个按钮来触发 input 的点击事件
```

XLSX 插件也可以用于 excel 导出



