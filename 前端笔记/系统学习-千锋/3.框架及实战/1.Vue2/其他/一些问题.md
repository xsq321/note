##### 1. 父子组件样式问题

`<style></style>` 中的样式是在 mounted 生命周期加载的，所以父组件样式在子组件之后，如果选择器加权相同的话父组件样式会覆盖子组件样式。

父子组件都加了 scoped 的情况：组件加了 scoped 时，该组件中的所有标签都会添加一个自定义属性 data-v-xxx （包括子组件标签，==所以包裹子组件的那个 div （子组件的根元素）会包含两个不同的 data-v-xxx 属性==，一个是父组件的一个是子组件自身的），样式也都会变成 `.btn[data-v-xxx]{}` 这种形式用于和标签一一对应（可观察控制台）；

这时父组件定义的样式并不会影响到子组件，因为每个组件的自定义属性后缀都是唯一的，如果父组件需要设置子组件样式，则需要使用深度选择器 `::v-deep .btn{}` ，实际会解析成 `[data-v-父] .btn{}` （注意是后代选择器，所以不仅会匹配到子组件的标签还可能会匹配到父组件自身的标签）；

这时如果子组件选择器是 `.btn[data-v-子]` ，则选择器权重相等（虽然一个是后代选择器一个是交集选择器，但权重依然都是 1类+1属性 ），父组件成功覆盖子组件样式；但有可能覆盖失败，实际得看子组件和父组件选择器的权重大小。

深度选择器原生是 `>>>` ，lang 为 less 则使用 `/deep/` ，lang 为 scss 则使用 `::v-deep` 



##### 2. 路由挂载是怎样实现的

```js
// 通过 router 配置参数注入路由，从而让整个应用都有路由功能
const app = new Vue({
  router
}).$mount('#app')
```

Vue 在内部做了什么

猜测：Vue 内部执行了 `this.$router = this.$root.router` 和 `this.$route = this.$root.router.route`



##### 3. process.env 

https://blog.csdn.net/sxy705242410/article/details/110955327

process.env 是 Node.js 中的一个环境对象。其中保存着系统的环境的变量信息。可使用 Node.js 命令行工具直接进行查看。

在 Vue 中，可以通过 .env 文件或者 .env.[mode] 文件对 process.env 中的属性进行配置，默认 process.env 含有两个属性 BASE_URL 和 NODE_ENV ，==NODE_ENV 主要用于标识当前的环境（生产环境，开发环境）==

.env.development 文件：

```
# 页面标题
VUE_APP_TITLE = 智能曝气专家系统

# 开发环境配置
ENV = 'development'

# 若依管理系统/开发环境
VUE_APP_BASE_API = 'http://plakeco.com:8089'
#VUE_APP_BASE_API = '/dev-api'

# 路由懒加载
VUE_CLI_BABEL_TRANSPILE_MODULES = true
```

.env.production 文件：

```
# 页面标题
VUE_APP_TITLE = 智能曝气专家系统

# 生产环境配置
ENV = 'production'

# 若依管理系统/生产环境
VUE_APP_BASE_API = '/prod-api'
```

这样就可以实现不同环境下获得不同的 process.env.VUE_APP_BASE_API 和 process.env.NODE_ENV 



##### 4. 为何一定要用 dispatch 改变数据

直接通过 this.$store.state.num+=2 也可以改变值，为何要通过 this.$store.dispatch('add',2) 这种方式改变呢？

可以更好地管理、控制和检测状态变更。mutations 中的数据变化是可以被 vue 的开发工具 vue-devTools 观测到的，而直接修改并不会，所以实际开发中都是通过使用 dispatch 提交 mutations 的方式或直接通过`this.$store.commit('ADD',2)` 触发 mutations 来修改数据的

