

## ä¸€ã€TypeScript ä»‹ç»

### 1.1 ä»€ä¹ˆæ˜¯TypeScript

TypeScriptæ˜¯ä¸€ç§ç”±å¾®è½¯å¼€å‘çš„å¼€æºã€è·¨å¹³å°çš„ç¼–ç¨‹è¯­è¨€ã€‚å®ƒæ˜¯JavaScriptçš„è¶…é›†ï¼Œæœ€ç»ˆä¼šè¢«ç¼–è¯‘ä¸ºJavaScriptä»£ç ã€‚

2012å¹´10æœˆï¼Œå¾®è½¯å‘å¸ƒäº†é¦–ä¸ªå…¬å¼€ç‰ˆæœ¬çš„TypeScriptï¼Œ2013å¹´6æœˆ19æ—¥ï¼Œåœ¨ç»å†äº†ä¸€ä¸ªé¢„è§ˆç‰ˆä¹‹åå¾®è½¯æ­£å¼å‘å¸ƒäº†æ­£å¼ç‰ˆTypeScriptã€‚

TypeScriptçš„ä½œè€…æ˜¯å®‰å¾·æ–¯Â·æµ·å°”æ–¯ä¼¯æ ¼ï¼ŒC#çš„é¦–å¸­æ¶æ„å¸ˆã€‚å®ƒæ˜¯å¼€æºå’Œè·¨å¹³å°çš„ç¼–ç¨‹è¯­è¨€ã€‚

ä¸­æ–‡ç½‘ï¼šhttps://www.tslang.cn/index.html

https://github.com/microsoft/TypeScript





#### 1.1.1 `JS`,`ES`,`TS`çš„å…³ç³»

- **1995å¹´ï¼šJavaScript**

å½“æ—¶çš„ç½‘æ™¯å…¬å¸æ­£å‡­å€Ÿå…¶Navigatoræµè§ˆå™¨æˆä¸ºWebæ—¶ä»£å¼€å¯æ—¶æœ€è‘—åçš„ç¬¬ä¸€ä»£äº’è”ç½‘å…¬å¸ã€‚

ç”±äºç½‘æ™¯å…¬å¸å¸Œæœ›èƒ½åœ¨é™æ€HTMLé¡µé¢ä¸Šæ·»åŠ ä¸€äº›åŠ¨æ€æ•ˆæœï¼Œäºæ˜¯ `Brendan Eich` åœ¨ä¸¤å‘¨ä¹‹å†…è®¾è®¡å‡ºäº†JavaScriptè¯­è¨€ã€‚

ä¸ºä»€ä¹ˆèµ·åå«JavaScriptï¼ŸåŸå› æ˜¯å½“æ—¶Javaè¯­è¨€éå¸¸çº¢ç«ï¼Œæ‰€ä»¥ç½‘æ™¯å…¬å¸å¸Œæœ›å€ŸJavaçš„åæ°”æ¥æ¨å¹¿ï¼Œä½†äº‹å®ä¸ŠJavaScripté™¤äº†è¯­æ³•ä¸Šæœ‰ç‚¹åƒJavaï¼Œå…¶ä»–éƒ¨åˆ†åŸºæœ¬ä¸Šæ²¡å•¥å…³ç³»ã€‚

- **1997å¹´ï¼šECMAScript**

å› ä¸ºç½‘æ™¯å¼€å‘äº†JavaScriptï¼Œä¸€å¹´åå¾®è½¯åˆæ¨¡ä»¿JavaScriptå¼€å‘äº†JScriptï¼Œä¸ºäº†è®©JavaScriptæˆä¸ºå…¨çƒæ ‡å‡†ï¼Œå‡ ä¸ªå…¬å¸è”åˆECMAï¼ˆEuropean Computer Manufacturers Associationï¼‰ï¼ˆæ¬§æ´²è®¡ç®—æœºåˆ¶é€ å•†åä¼šï¼‰ç»„ç»‡åˆ¶å®šäº†JavaScript è¯­è¨€çš„æ ‡å‡†ï¼Œè¢«ç§°ä¸ºECMAScriptæ ‡å‡†ã€‚

ä»1997å¹´åˆ°2014å¹´ï¼Œ17å¹´å…±å‘å¸ƒäº†5ä¸ªç‰ˆæœ¬ï¼Œå‘å¸ƒè¡¨è¾ƒæ…¢ï¼Œä»2015.6å¹´ï¼ŒES6å‘å¸ƒä¹‹åï¼ŒESçš„å‘½åæ–¹å¼å‘ç”Ÿå¤§å˜åŒ–ï¼Œä»¥å¹´ä»½ä½œä¸ºå‘½åè§„åˆ™ã€‚æ¯”å¦‚ï¼ŒES6åˆå«ECMAScript 2015 

| ç‰ˆæœ¬   | å‘å¸ƒæ—¶é—´       | ä¸€èˆ¬ç§°å‘¼        | ç®€ç§° |
| ------ | -------------- | --------------- | ---- |
| ç¬¬1ç‰ˆ  | 1997å¹´6æœˆ      | ECMAScript 1    | ES1  |
| ç¬¬2ç‰ˆ  | 1998å¹´4æœˆ      | ECMAScript 2    | ES2  |
| ç¬¬3ç‰ˆ  | 1999å¹´12æœˆ     | ECMAScript 3    | ES3  |
| ç¬¬4ç‰ˆ  | 2007å¹´10æœˆè‰æ¡ˆ | ECMAScript 4    | ES4  |
| ç¬¬5ç‰ˆ  | 2009å¹´12æœˆ     | ECMAScript 5    | ES5  |
| ç¬¬6ç‰ˆ  | 2015å¹´6æœˆ      | ECMAScript 2015 | ES6  |
| ç¬¬7ç‰ˆ  | 2016å¹´6æœˆ      | ECMAScript 2016 | ES7  |
| ç¬¬8ç‰ˆ  | 2017å¹´6æœˆ      | ECMAScript 2017 | ES8  |
| ç¬¬9ç‰ˆ  | 2018å¹´6æœˆ      | ECMAScript 2018 | ES9  |
| ç¬¬10ç‰ˆ | 2019å¹´6æœˆ      | ECMAScript 2019 | ES10 |
| ç¬¬11ç‰ˆ | 2020å¹´6æœˆ      | ECMAScript 2020 | ES11 |
| ç¬¬12ç‰ˆ | 2021å¹´6æœˆ      | ECMAScript 2021 | ES12 |
| ç¬¬13ç‰ˆ | 2022å¹´6æœˆ      | ECMAScript 2022 | ES13 |



- **TypeScript**

TypeScript æ˜¯ JavaScript çš„è¶…é›†ï¼Œå³åŒ…å«JavaScript çš„æ‰€æœ‰å…ƒç´ ï¼Œèƒ½è¿è¡ŒJavaScript çš„ä»£ç ï¼Œå¹¶æ‰©å±•äº†JavaScript çš„è¯­æ³•ã€‚ç›¸æ¯”äºJavaScript ï¼Œå®ƒè¿˜å¢åŠ äº†é™æ€ç±»å‹ã€ç±»ã€æ¨¡å—ã€æ¥å£å’Œç±»å‹æ³¨è§£æ–¹é¢çš„åŠŸèƒ½ï¼Œæ›´æ˜“äºå¤§é¡¹ç›®çš„å¼€å‘ã€‚

TypeScript æä¾›æœ€æ–°çš„å’Œä¸æ–­å‘å±•çš„ JavaScript ç‰¹æ€§ï¼ŒåŒ…æ‹¬é‚£äº›æ¥è‡ª 2015 å¹´çš„ ECMAScript å’Œæœªæ¥çš„ææ¡ˆä¸­çš„ç‰¹æ€§ï¼Œæ¯”å¦‚å¼‚æ­¥åŠŸèƒ½å’Œ Decoratorsï¼Œä»¥å¸®åŠ©å»ºç«‹å¥å£®çš„ç»„ä»¶ã€‚ä¸‹å›¾æ˜¾ç¤ºäº† TypeScript ä¸ ES5ã€ES2015+ ä¹‹é—´çš„å…³ç³»ï¼š



<img src="images/01-01.png" alt="image-20211109122048861" style="zoom:50%;" />

##### æ€»ç»“ï¼š

TypeScriptä¸ä»…åŒ…å«äº†ECMAScriptçš„å…¨éƒ¨å†…å®¹ï¼Œè¿˜æ‰©å±•äº†å…¶ä»–å†…å®¹ã€‚

ECMAScriptæ˜¯JavaScriptçš„æ ‡å‡†ï¼ŒTypeScript æ˜¯ JavaScript çš„è¶…é›†ã€‚



#### 1.1.2 TypeScript VS JavaScript

| TypeScript                                     | JavaScript                                 |
| ---------------------------------------------- | ------------------------------------------ |
| JavaScript çš„è¶…é›†ç”¨äºè§£å†³å¤§å‹é¡¹ç›®çš„ä»£ç å¤æ‚æ€§  | ä¸€ç§è„šæœ¬è¯­è¨€ï¼Œç”¨äºåˆ›å»ºåŠ¨æ€ç½‘é¡µ             |
| å¯ä»¥åœ¨ç¼–è¯‘æœŸé—´å‘ç°å¹¶çº æ­£é”™è¯¯                   | ä½œä¸ºä¸€ç§è§£é‡Šå‹è¯­è¨€ï¼Œåªèƒ½åœ¨è¿è¡Œæ—¶å‘ç°é”™è¯¯   |
| å¼ºç±»å‹ï¼Œæ”¯æŒé™æ€å’ŒåŠ¨æ€ç±»å‹                     | å¼±ç±»å‹ï¼Œæ²¡æœ‰é™æ€ç±»å‹é€‰é¡¹                   |
| æœ€ç»ˆè¢«ç¼–è¯‘æˆ JavaScript ä»£ç ï¼Œä½¿æµè§ˆå™¨å¯ä»¥ç†è§£ | å¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨                     |
| æ”¯æŒæ¨¡å—ã€æ³›å‹å’Œæ¥å£                           | ä¸æ”¯æŒæ¨¡å—ã€æ³›å‹æˆ–æ¥å£                     |
| æ”¯æŒ ES3ï¼ŒES4ï¼ŒES5 å’Œ ES6+åŠŸèƒ½                 | ä¸æ”¯æŒç¼–è¯‘å…¶ä»– ES3ï¼ŒES4ï¼ŒES5 æˆ– ES6+ åŠŸèƒ½  |
| ç¤¾åŒºçš„æ”¯æŒä»åœ¨å¢é•¿ï¼Œè€Œä¸”è¿˜ä¸æ˜¯å¾ˆå¤§             | å¤§é‡çš„ç¤¾åŒºæ”¯æŒä»¥åŠå¤§é‡æ–‡æ¡£å’Œè§£å†³é—®é¢˜çš„æ”¯æŒ |



#### 1.1.3 ä¸ºä»€ä¹ˆå­¦TypeScriptï¼Ÿ

TypeScript å…·æœ‰ç±»å‹ç³»ç»Ÿã€‚

Javascriptä¸­æ²¡æœ‰ä¸¥æ ¼çš„ç±»å‹éªŒè¯çš„é™åˆ¶ï¼Œå®šä¹‰å¥½çš„å˜é‡å¯ä»¥æ ¹æ®éœ€æ±‚å­˜æ”¾å„ç±»æ•°æ®ï¼Œä½†æ˜¯æ­£å¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¸ä¼šç»™ä¸€ä¸ªå˜é‡å­˜å‚¨ä¸åŒç±»å‹çš„æ•°æ®ã€‚ä½†æ˜¯å› ä¸ºJSæ²¡æœ‰é™åˆ¶ï¼Œæ‰€ä»¥å¾ˆå¯èƒ½å¯¼è‡´è¯¯æ“ä½œï¼Œå¼•å‘ä¸å¿…è¦çš„bugã€‚

JSä¸€å¼€å§‹åªæ˜¯ä¸€ä¸ªåšæ•°æ®éªŒè¯çš„è„šæœ¬è¯­è¨€ï¼Œéšç€æŠ€æœ¯çš„å‘å±•ï¼Œç½‘é¡µå¼€å‘èƒ½åŠ›è¶Šæ¥è¶Šå¼ºï¼ŒJSå‘å±•çš„ä¹Ÿè¶Šæ¥è¶Šå¥½ï¼Œåœ¨ES3ç‰ˆæœ¬ä¹‹åï¼Œä¸ºäº†åŠ å…¥ç±»å‹ç³»ç»Ÿæ¨å‡ºäº†ES4ï¼Œä½†æ˜¯æœ€ç»ˆè§‰å¾—ç±»å‹ç³»ç»Ÿä¸ç¬¦åˆJSçµæ´»çš„ç‰¹æ€§ï¼Œåˆè¢«åºŸå¼ƒã€‚

ä½†æ˜¯å¯¹å¾ˆå¤šå¼€å‘è€…æ¥è¯´ï¼Œæ„¿æ„èˆå¼ƒä¸€äº›çµæ´»æ€§æ¥æ¢å–ç±»å‹ç³»ç»Ÿï¼Œæ‰€ä»¥å°±æœ‰äº†å¾ˆå¤šçš„ç±»å‹ç³»ç»Ÿçš„è¾…åŠ©å·¥å…·: flowã€ ts

ä½¿ç”¨ç±»å‹ç³»ç»Ÿçš„ç›®çš„:

- æé«˜ä»£ç çš„å¯è¯»æ€§
- è§„é¿äº†æŸäº›çº¿ä¸Šbugçš„äº§ç”Ÿ



>TypeScript æ˜¯å¼€å‘å’Œç¼–è¯‘ç¯èŠ‚èµ·ä½œç”¨çš„ã€‚



### 1.2 å®‰è£…å’Œä½¿ç”¨

#### 1.2.1 å®‰è£… TypeScript

å…¨å±€å®‰è£… TypeScriptï¼š

```bash
npm install -g typescript
```

æ£€æŸ¥å®‰è£…æ˜¯å¦æˆåŠŸï¼š

```bash
tsc -V 
```

#### 1.2.2  ç¼–è¯‘`.ts`æ–‡ä»¶

app.ts

```ts
let title:string='Hello Tsï¼'
let num:number=10
```



```bash
# ç¼–è¯‘ src/test.ts  ç”Ÿæˆ dist/test.js
tsc ./src/test.ts --outFile ./dist/test.js

# ç¼–è¯‘ src/ä¸‹é¢æ‰€æœ‰æ–‡ä»¶åšç›‘å¬ç¼–è¯‘
tsc ./src/* --outDir ./dist --watch
```



#### 1.2.3 è‡ªåŠ¨ç¼–è¯‘

==é€šè¿‡ç”Ÿæˆ `tsconfig.json` é…ç½®æ–‡ä»¶çš„æ–¹å¼==

å‘ä¸Šé¢çš„æ‰§è¡Œå‘½ä»¤ï¼Œå¯ä»¥é…ç½®åˆ°é…ç½®æ–‡ä»¶ä¸­ã€‚

ï¼ˆ1ï¼‰åœ¨å‘½ä»¤è¡Œ æ‰§è¡Œ `tsc --init` å‘½ä»¤ï¼Œåˆ›å»ºä¸€ä¸ªtsconfig.jsonæ–‡ä»¶

ï¼ˆ2ï¼‰åœ¨æ­¤é…ç½®æ–‡ä»¶é‡Œä¿®æ”¹ï¼š

```bash
"outDir": "./dist",
"rootDir": "./src",

# ï¼ˆ3ï¼‰æ‰§è¡Œå‘½ä»¤ï¼Œç›‘å¬ç¼–è¯‘
tsc --watch
```

æ‰‹åŠ¨ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼š

![tsconfig_outDir](images/tsconfig_outDir.png)

![tsconfig_rootDir](images/tsconfig_rootDir.png)



### 1.3 ç¬¬ä¸€ä¸ª TypeScript æ–‡ä»¶

åœ¨ç¼–è¾‘å™¨ï¼Œå°†ä¸‹é¢çš„ä»£ç è¾“å…¥åˆ°`greeter.ts`æ–‡ä»¶é‡Œï¼š

```ts
function greeter(person: string) {
    return "Hello, " + person;
}

let user = "Jane User";

//  let user = [0, 1, 2];  //æŠ¥é”™ï¼

document.body.innerHTML = greeter(user);
```

##### ç±»å‹æ³¨è§£

TypeScripté‡Œçš„ç±»å‹æ³¨è§£æ˜¯ä¸€ç§è½»é‡çº§çš„ä¸ºå‡½æ•°æˆ–å˜é‡æ·»åŠ çº¦æŸçš„æ–¹å¼ã€‚ åœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œæˆ‘ä»¬å¸Œæœ› `greeter`å‡½æ•°æ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°ã€‚ ç„¶åå°è¯•æŠŠ `greeter`çš„è°ƒç”¨æ”¹æˆä¼ å…¥ä¸€ä¸ªæ•°ç»„ï¼š



## äºŒã€åŸºç¡€ç±»å‹

TypeScriptåŒ…å«çš„æœ€ç®€å•çš„æ•°æ®å•å…ƒæœ‰ï¼šæ•°å­—ï¼Œå­—ç¬¦ä¸²ï¼Œå¸ƒå°”å€¼ï¼ŒNullå’Œ Undefinedç­‰ã€‚ TypeScriptæ”¯æŒä¸JavaScriptå‡ ä¹ç›¸åŒçš„æ•°æ®ç±»å‹ï¼Œæ­¤å¤–è¿˜æä¾›äº†å®ç”¨çš„æšä¸¾ç±»å‹æ–¹ä¾¿æˆ‘ä»¬ä½¿ç”¨ã€‚

### 2.1 å¸ƒå°”å€¼

æœ€åŸºæœ¬çš„æ•°æ®ç±»å‹å°±æ˜¯ç®€å•çš„true/falseå€¼ï¼Œåœ¨JavaScriptå’ŒTypeScripté‡Œå«åš`boolean`ï¼ˆå…¶å®ƒè¯­è¨€ä¸­ä¹Ÿä¸€æ ·ï¼‰ã€‚

```ts
let isDone: boolean = false;
```

### 2.2 æ•°å­—

å’ŒJavaScriptä¸€æ ·ï¼ŒTypeScripté‡Œçš„æ‰€æœ‰æ•°å­—éƒ½æ˜¯æµ®ç‚¹æ•°ã€‚ è¿™äº›æµ®ç‚¹æ•°çš„ç±»å‹æ˜¯ `number`ã€‚

```js
let num:number=7
```

### 2.3 å­—ç¬¦ä¸²

åƒå…¶å®ƒè¯­è¨€é‡Œä¸€æ ·ï¼Œæˆ‘ä»¬ä½¿ç”¨ `string`è¡¨ç¤ºæ–‡æœ¬æ•°æ®ç±»å‹ã€‚ å’ŒJavaScriptä¸€æ ·ï¼Œå¯ä»¥ä½¿ç”¨åŒå¼•å·ï¼ˆ `"`ï¼‰æˆ–å•å¼•å·ï¼ˆ`'`ï¼‰è¡¨ç¤ºå­—ç¬¦ä¸²ã€‚

```ts
let name: string = "Lucy";
name = "Lily";
```

è¿˜å¯ä»¥ä½¿ç”¨**æ¨¡ç‰ˆå­—ç¬¦ä¸²**ï¼Œå®šä¹‰å¤šè¡Œæ–‡æœ¬å’Œå†…åµŒè¡¨è¾¾å¼ã€‚ è¿™ç§å­—ç¬¦ä¸²æ˜¯è¢«åå¼•å·åŒ…å›´ï¼ˆ\`\`ï¼‰ï¼Œå¹¶ä¸”ä»¥`${ expr }`è¿™ç§å½¢å¼åµŒå…¥è¡¨è¾¾å¼ã€‚

```ts
let name: string = `Gene`;
let age: number = 17;
let sentence: string = `Hello, my name is ${ name }.

I'll be ${ age + 1 } years old next month.`;
```



### 2.4 æ•°ç»„

TypeScriptåƒJavaScriptä¸€æ ·å¯ä»¥æ“ä½œæ•°ç»„å…ƒç´ ã€‚ æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥å®šä¹‰æ•°ç»„ã€‚ ç¬¬ä¸€ç§ï¼Œå¯ä»¥åœ¨å…ƒç´ ç±»å‹åé¢æ¥ä¸Š `[]`ï¼Œè¡¨ç¤ºç”±æ­¤ç±»å‹å…ƒç´ ç»„æˆçš„ä¸€ä¸ªæ•°ç»„ï¼š

```ts
let list: number[] = [1, 2, 3];

// æ—¢æœ‰numberï¼Œåˆæœ‰nullçš„æ•°ç»„ ã€æå°‘ã€‘
let list2:(number|null)[]=[1,2,4,null]
```

ç¬¬äºŒç§æ–¹å¼æ˜¯ä½¿ç”¨**æ•°ç»„æ³›å‹**ï¼Œ`Array<å…ƒç´ ç±»å‹>`ï¼š

```ts
let list: Array<number> = [1, 2, 3];
```



### 2.5 å…ƒç»„ Tuple

å…ƒç»„ç±»å‹å…è®¸è¡¨ç¤ºä¸€ä¸ªå·²çŸ¥å…ƒç´ æ•°é‡å’Œç±»å‹çš„æ•°ç»„ï¼Œå„å…ƒç´ çš„ç±»å‹ä¸å¿…ç›¸åŒã€‚ æ¯”å¦‚ï¼Œä½ å¯ä»¥å®šä¹‰ä¸€å¯¹å€¼åˆ†åˆ«ä¸º `string`å’Œ`number`ç±»å‹çš„å…ƒç»„ã€‚

æ›´ä¸¥æ ¼é™åˆ¶æ•°ç»„ï¼Œé™åˆ¶ä¸åŒç±»å‹å¯¹åº”çš„å…ƒç´ ä½ç½®å’Œå…ƒç´ ä¸ªæ•°ã€‚

```ts
// Declare a tuple type
let x: [string, number];
// Initialize it
x = ['hello', 10]; // OK
// Initialize it incorrectly
x = [10, 'hello']; // Error
```

å½“è®¿é—®ä¸€ä¸ªå·²çŸ¥ç´¢å¼•çš„å…ƒç´ ï¼Œä¼šå¾—åˆ°æ­£ç¡®çš„ç±»å‹ï¼š

```ts
console.log(x[0].substr(1)); // OK
console.log(x[1].substr(1)); // Error, 'number' does not have 'substr'
```

å½“è®¿é—®ä¸€ä¸ªè¶Šç•Œçš„å…ƒç´ ï¼Œä¹Ÿä¼šæŠ¥é”™ï¼š

```ts
x[3] = 'world'; // å½“è®¿é—®ä¸€ä¸ªè¶Šç•Œçš„å…ƒç´ ï¼Œä¹Ÿä¼šæŠ¥é”™ï¼š

console.log(x[5].toString()); // OK, 'string' å’Œ 'number' éƒ½æœ‰ toString
```



æ¼”ç¤ºï¼š

```ts
let tuple1:[string,number]=['hello',99]

function sum(m:number,n:number){

}
// ç”¨å…ƒç»„é™åˆ¶  å‚æ•°èšåˆï¼› é™åˆ¶ä¸¤ä¸ªå‚æ•°å¿…é¡»æ˜¯numberç±»å‹
function sum2(...args:[number,number]){
	return args[0]+args[1]
}
```



### 2.6 æšä¸¾

`enum`ç±»å‹æ˜¯å¯¹JavaScriptæ ‡å‡†æ•°æ®ç±»å‹çš„ä¸€ä¸ªè¡¥å……ï¼Œä½¿ç”¨æšä¸¾æˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€äº›å¸¦åå­—çš„å¸¸é‡ã€‚

```ts
enum Color {Red, Green, Blue}

let c: Color = Color.Green;
```

é»˜è®¤æƒ…å†µä¸‹ï¼Œä»`0`å¼€å§‹ä¸ºå…ƒç´ ç¼–å·ã€‚ ä½ ä¹Ÿå¯ä»¥æ‰‹åŠ¨çš„æŒ‡å®šæˆå‘˜çš„æ•°å€¼ã€‚ ä¾‹å¦‚ï¼Œæˆ‘ä»¬å°†ä¸Šé¢çš„ä¾‹å­æ”¹æˆä» `1`å¼€å§‹ç¼–å·ï¼š

```ts
enum Color {Red = 1, Green, Blue}

let c: Color = Color.Green;
```

æˆ–è€…ï¼Œå…¨éƒ¨éƒ½é‡‡ç”¨æ‰‹åŠ¨èµ‹å€¼ï¼š

```ts
enum Color {Red = 1, Green = 2, Blue = 4}

let c: Color = Color.Green;
```

æšä¸¾ç±»å‹æä¾›çš„ä¸€ä¸ªä¾¿åˆ©æ˜¯ä½ å¯ä»¥ç”±æšä¸¾çš„å€¼å¾—åˆ°å®ƒçš„åå­—ã€‚ ä¾‹å¦‚ï¼Œæˆ‘ä»¬çŸ¥é“æ•°å€¼ä¸º2ï¼Œä½†æ˜¯ä¸ç¡®å®šå®ƒæ˜ å°„åˆ°Coloré‡Œçš„å“ªä¸ªåå­—ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥æ‰¾ç›¸åº”çš„åå­—ï¼š==ã€‹å€’æ¨

```ts
enum Color {Red = 1, Green, Blue}
let colorName: string = Color[2];

console.log(colorName);  // æ˜¾ç¤º'Green'å› ä¸ºä¸Šé¢ä»£ç é‡Œå®ƒçš„å€¼æ˜¯2
```



åº”ç”¨ï¼šå˜é‡å¯èƒ½æœ‰å‡ ç§ç±»å‹çš„å€¼ï¼ˆæœ‰é™çš„ï¼Œå›ºå®šçš„ï¼‰ï¼Œæå‰å®šä¹‰å¥½

```ts
// å®šä¹‰å›ºå®šçŠ¶æ€
enum Status {
  Success='successful',
  Danger='danger',
  Warning='warnind'
}
// åˆ¤æ–­ åé¢ success ---ã€‹successful
if(data.status===Status.Success){

}
```



### 2.7 Any

æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šæƒ³è¦ä¸ºé‚£äº›åœ¨ç¼–ç¨‹é˜¶æ®µè¿˜ä¸æ¸…æ¥šç±»å‹çš„å˜é‡æŒ‡å®šä¸€ä¸ªç±»å‹ã€‚ è¿™äº›å€¼å¯èƒ½æ¥è‡ªäºåŠ¨æ€çš„å†…å®¹ï¼Œæ¯”å¦‚æ¥è‡ªç”¨æˆ·è¾“å…¥æˆ–ç¬¬ä¸‰æ–¹ä»£ç åº“ã€‚ è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›ç±»å‹æ£€æŸ¥å™¨å¯¹è¿™äº›å€¼è¿›è¡Œæ£€æŸ¥è€Œæ˜¯ç›´æ¥è®©å®ƒä»¬é€šè¿‡ç¼–è¯‘é˜¶æ®µçš„æ£€æŸ¥ã€‚ é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `any`ç±»å‹æ¥æ ‡è®°è¿™äº›å˜é‡ï¼š

```ts
let notSure: any = 4;
notSure += "maybe a string instead";
notSure = false; // okay, definitely a boolean
```



åº”ç”¨åœºæ™¯ï¼šä¸çŸ¥é“å®šä¹‰æˆä»€ä¹ˆç±»å‹æ—¶ï¼Œå¯ä»¥å®šä¹‰æˆany

åœ¨å¯¹ç°æœ‰ä»£ç è¿›è¡Œæ”¹å†™çš„æ—¶å€™ï¼Œ`any`ç±»å‹æ˜¯ååˆ†æœ‰ç”¨çš„ï¼Œå®ƒå…è®¸ä½ åœ¨ç¼–è¯‘æ—¶å¯é€‰æ‹©åœ°åŒ…å«æˆ–ç§»é™¤ç±»å‹æ£€æŸ¥ã€‚

```ts
let notSure:any=new ECharts({})

notSure.ifItExists() // okay, ifItExistsåœ¨è¿è¡Œæ—¶å¯èƒ½å­˜åœ¨
notSure.toFixed() // okay, toFixed å‡½æ•°å­˜åœ¨ï¼ˆåœ¨ç¼–è¯‘æ—¶ä¸åšæ£€æŸ¥ï¼‰
```

å½“ä½ åªçŸ¥é“ä¸€éƒ¨åˆ†æ•°æ®çš„ç±»å‹æ—¶ï¼Œ`any`ç±»å‹ä¹Ÿæ˜¯æœ‰ç”¨çš„ã€‚ æ¯”å¦‚ï¼Œä½ æœ‰ä¸€ä¸ªæ•°ç»„ï¼Œå®ƒåŒ…å«äº†ä¸åŒçš„ç±»å‹çš„æ•°æ®ï¼š

```ts
let list: any[] = [1, true, "free"]; // æ³¨æ„ï¼šæ­¤æ—¶ä¸èƒ½é™åˆ¶æˆå…ƒç»„ï¼Œå…ƒç»„ä¸ä»…é™åˆ¶ç±»å‹ï¼Œè¿˜é™åˆ¶ä¸ªæ•°

list[1] = 100;
```

   

### 2.8 Void 

æŸç§ç¨‹åº¦ä¸Šæ¥è¯´ï¼Œ`void`ç±»å‹åƒæ˜¯ä¸`any`ç±»å‹ç›¸åï¼Œå®ƒè¡¨ç¤ºæ²¡æœ‰ä»»ä½•ç±»å‹ã€‚ å½“ä¸€ä¸ªå‡½æ•°æ²¡æœ‰è¿”å›å€¼æ—¶ï¼Œä½ é€šå¸¸ä¼šè§åˆ°å…¶è¿”å›å€¼ç±»å‹æ˜¯ `void`ï¼š

```ts
function warnUser(): void {
    console.log("This is my warning message");
}
```

å£°æ˜ä¸€ä¸ª`void`ç±»å‹çš„å˜é‡æ²¡æœ‰ä»€ä¹ˆå¤§ç”¨ï¼Œå› ä¸ºä½ åªèƒ½ä¸ºå®ƒèµ‹äºˆ`undefined`ï¼Œä¸èƒ½èµ‹å€¼å…¶ä»–çš„å€¼ï¼š

```ts
let unusable: void = undefined;

let unusable:void='qewqe'  //void ä¸èƒ½èµ‹å€¼ä¸ºå­—ç¬¦ä¸²
```



### 2.9 ç±»å‹æ–­è¨€

æœ‰æ—¶å€™ä½ ä¼šé‡åˆ°è¿™æ ·çš„æƒ…å†µï¼Œä½ ä¼šæ¯”TypeScriptæ›´äº†è§£æŸä¸ªå€¼çš„è¯¦ç»†ä¿¡æ¯ã€‚ é€šå¸¸è¿™ä¼šå‘ç”Ÿåœ¨ä½ æ¸…æ¥šåœ°çŸ¥é“ä¸€ä¸ªå®ä½“å…·æœ‰æ¯”å®ƒç°æœ‰ç±»å‹æ›´ç¡®åˆ‡çš„ç±»å‹ã€‚

é€šè¿‡**ç±»å‹æ–­è¨€**è¿™ç§æ–¹å¼å¯ä»¥å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œâ€œç›¸ä¿¡æˆ‘ï¼Œæˆ‘çŸ¥é“è‡ªå·±åœ¨å¹²ä»€ä¹ˆâ€ã€‚ ç±»å‹æ–­è¨€å¥½æ¯”å…¶å®ƒè¯­è¨€é‡Œçš„ç±»å‹è½¬æ¢ï¼Œä½†æ˜¯ä¸è¿›è¡Œç‰¹æ®Šçš„æ•°æ®æ£€æŸ¥å’Œè§£æ„ã€‚ å®ƒæ²¡æœ‰è¿è¡Œæ—¶çš„å½±å“ï¼Œåªæ˜¯åœ¨ç¼–è¯‘é˜¶æ®µèµ·ä½œç”¨ã€‚ TypeScriptä¼šå‡è®¾ä½ ï¼Œç¨‹åºå‘˜ï¼Œå·²ç»è¿›è¡Œäº†å¿…é¡»çš„æ£€æŸ¥ã€‚

ç±»å‹æ–­è¨€æœ‰ä¸¤ç§å½¢å¼ã€‚ å…¶ä¸€æ˜¯â€œå°–æ‹¬å·â€è¯­æ³•ï¼š

```ts
let someValue: any = "this is a string";

let strLength: number = (<string>someValue).length;
```

å¦ä¸€ä¸ªä¸º`as`è¯­æ³•ï¼š

```ts
let someValue: any = "this is a string";

let strLength: number = (someValue as string).length;
```

ä¸¤ç§å½¢å¼æ˜¯ç­‰ä»·çš„ã€‚ è‡³äºä½¿ç”¨å“ªä¸ªå¤§å¤šæ•°æƒ…å†µä¸‹æ˜¯å‡­ä¸ªäººå–œå¥½ï¼›ç„¶è€Œï¼Œå½“ä½ åœ¨TypeScripté‡Œä½¿ç”¨JSXæ—¶ï¼Œåªæœ‰ `as`è¯­æ³•æ–­è¨€æ˜¯è¢«å…è®¸çš„ã€‚



```ts
// ç±»å‹æ–­è¨€ åˆ©ç”¨aså‘Šè¯‰tsæ˜¯ä»€ä¹ˆç±»å‹çš„ï¼Œè¿›è€Œå¯ä»¥åšä»€ä¹ˆæ“ä½œ
// æœ‰æ—¶è¿™ä¸ªå€¼æ˜¯åå°è¿”ç»™çš„ï¼Œä¸ç¡®å®šç±»å‹
let  val:(string|number)='hello ts';
// å½“æ˜¯å­—ç¬¦ä¸²çš„è¯ï¼Œè½¬å…¨å¤§å†™===>æˆ‘ç¡®å®šæ˜¯stringæ—¶ï¼Œ...
(val as string).toUpperCase()
```



### æ€»ç»“ï¼š

1. ç±»å‹æ ¡éªŒï¼Œçº¦æŸå¼€å‘äººå‘˜
2. å¾ˆå¥½çš„æ™ºèƒ½æç¤º
3. å‰åç«¯äº¤äº’ï¼Œæ ¹æ®åç«¯è¦è¿”å›çš„æ•°æ®ï¼Œæå‰å®šä¹‰å¥½æ¥å£ï¼Œæšä¸¾ï¼Œ å½“åç«¯è¿”å›æ•°æ®æœ‰æ”¹åŠ¨æ—¶ï¼Œåªéœ€è¦æ”¹æ¥å£ï¼Œæšä¸¾å³å¯ï¼Œä¸šåŠ¡é€»è¾‘ä¸éœ€è¦åŠ¨





## ä¸‰ã€æ¥å£

TypeScriptçš„æ ¸å¿ƒåŸåˆ™ä¹‹ä¸€æ˜¯å¯¹å€¼æ‰€å…·æœ‰çš„**ç»“æ„**è¿›è¡Œç±»å‹æ£€æŸ¥ã€‚ åœ¨TypeScripté‡Œï¼Œæ¥å£çš„ä½œç”¨å°±æ˜¯ä¸ºè¿™äº›ç±»å‹å‘½åå’Œä¸ºä½ çš„ä»£ç æˆ–ç¬¬ä¸‰æ–¹ä»£ç å®šä¹‰å¥‘çº¦ã€‚

### 3.1 ä»€ä¹ˆæ˜¯æ¥å£

åœ¨é¢å‘å¯¹è±¡è¯­è¨€ä¸­ï¼Œæ¥å£(Interfaces) æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„æ¦‚å¿µï¼Œå®ƒæ˜¯å¯¹è¡Œä¸ºçš„æŠ½è±¡ï¼Œè€Œå…·ä½“å¦‚ä½•è¡ŒåŠ¨éœ€è¦ç”±ç±»(class)å»å®ç°(implement) ã€‚

åœ¨ TypeScript ä¸­ï¼Œæ¥å£æ˜¯ä¸€ä¸ªéå¸¸çµæ´»çš„æ¦‚å¿µï¼Œé™¤äº†å¯ç”¨äºå¯¹ç±»çš„ä¸€éƒ¨åˆ†è¡Œä¸ºè¿›è¡ŒæŠ½è±¡ä»¥å¤–ï¼Œä¹Ÿå¸¸ç”¨äºå¯¹ **å¯¹è±¡çš„å½¢çŠ¶(Shape)** è¿›è¡Œæè¿°ã€‚

å¯¹è±¡çš„å½¢çŠ¶ï¼šå¯¹è±¡åº”è¯¥é•¿ä»€ä¹ˆæ ·å­ï¼Œåº”è¯¥æœ‰å“ªäº›å±æ€§å’Œæ–¹æ³•ã€‚

```ts
// å®šä¹‰æ¥å£
interface IStudent{
  name:string,
  age:number
}
// å®ç°æ¥å£ å¸¸é‡zhagnsanç±»å‹æ˜¯Personç±»å‹çš„ï¼Œ
const  zhagnsan:IStudent={
  name:'zs',
  age:18
}
const lisi:IStudent={
  name:'ls',
  age:7
}
```

#### æ³¨æ„ï¼š

1. æ¥å£çš„åå­—é¦–å­—æ¯ä¸€èˆ¬éƒ½å¤§å†™ã€‚å»ºè®®åœ¨æ¥å£åå­—å‰é¢åŠ ä¸ª  `I`
2. å®ç°æ¥å£æ—¶ï¼Œå‚æ•°çš„ç±»å‹å’Œæ•°é‡å¿…é¡»å’Œæ¥å£å®šä¹‰ä¿æŒä¸€è‡´ã€‚å³ å®šä¹‰çš„å˜é‡ï¼Œå°‘äºæˆ–å¤šä½™æ¥å£å®šä¹‰çš„å˜é‡æ˜¯ä¸å¯ä»¥çš„ï¼



### 3.2 å¯é€‰å±æ€§

æ¥å£é‡Œçš„å±æ€§ä¸å…¨éƒ½æ˜¯å¿…éœ€çš„ã€‚ æœ‰äº›æ˜¯åªåœ¨æŸäº›æ¡ä»¶ä¸‹å­˜åœ¨ï¼Œæˆ–è€…æ ¹æœ¬ä¸å­˜åœ¨ã€‚ç”¨ `?ï¼š` 

```ts
// å®šä¹‰æ¥å£
interface IStudent{
  name:string,
  age:number,
  salary?:number //å¯é€‰å‚æ•°
}
// å®ç°æ¥å£
const  zhagnsan:IStudent={
  name:'zs',
  age:18,
  salary:20  //æœ‰
}
const lisi:IStudent={
  name:'ls',
  age:7  //æ— 
}
```



### 3.3 ä»»æ„å±æ€§

æœ‰æ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›ä¸€ä¸ªæ¥å£å…è®¸æœ‰ä»»æ„çš„å±æ€§ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„æ–¹å¼ï¼š

```ts
// å®šä¹‰æ¥å£
interface IStudent{
  name:string,
  age:number,
  salary?:number, //å¯é€‰å‚æ•°ï¼Œå¯æœ‰å¯æ— 
  [key:string]:any, // ä½†æ˜¯å‰é¢çš„å¿…é¡»è¦æœ‰ï¼Œå…¶ä»–å±æ€§ä»»æ„æ·»åŠ ï¼Œç±»å‹ä¸ä¸€è‡´ä¹Ÿå¯ä»¥ï¼Œ
}
// å®ç°æ¥å£
const  zhagnsan:IStudent={
  name:'zs',
  age:18,
  salary:20,  //æœ‰
  gender:'ç”·'
}
const lisi:IStudent={
  name:'ls',
  age:7 , //æ— 
  sex:'å¥³'
}
```



### 3.4 åªè¯»å±æ€§

åªè¯»ä¸èƒ½æ”¹ã€‚

```ts
// å®šä¹‰æ¥å£
interface IStudent{
  readonly id:number,  //åªè¯»çš„ï¼åé¢ä¸å¯ä»¥ä¿®æ”¹ï¼ï¼
  name:string,
  age:number,
  salary?:number, //å¯é€‰å‚æ•°ï¼Œå¯æœ‰å¯æ— 
  [key:string]:any, // ä½†æ˜¯å‰é¢çš„å¿…é¡»è¦æœ‰ï¼Œå…¶ä»–å±æ€§ä»»æ„æ·»åŠ ï¼Œç±»å‹ä¸ä¸€è‡´ä¹Ÿå¯ä»¥ï¼Œ
}
// å®ç°æ¥å£
const  zhagnsan:IStudent={
  id:1,
  name:'zs',
  age:18,
  salary:20,  //æœ‰
  gender:'ç”·'
}
const lisi:IStudent={
  id:2,
  name:'ls',
  age:7 , //æ— 
  sex:'å¥³'
}

zhagnsan.id=2  //  ä¿®æ”¹ï¼ŒæŠ¥é”™ï¼ï¼ï¼
```

ç¬¬ä¸€æ¬¡éœ€è¦èµ‹å€¼ï¼Œåé¢ä¸å¯ä»¥ä¿®æ”¹ã€‚





## å››ã€ å‡½æ•°

å‡½æ•°æ˜¯JavaScriptåº”ç”¨ç¨‹åºçš„åŸºç¡€ã€‚ å®ƒå¸®åŠ©ä½ å®ç°æŠ½è±¡å±‚ï¼Œæ¨¡æ‹Ÿç±»ï¼Œä¿¡æ¯éšè—å’Œæ¨¡å—ã€‚ åœ¨TypeScripté‡Œï¼Œè™½ç„¶å·²ç»æ”¯æŒç±»ï¼Œå‘½åç©ºé—´å’Œæ¨¡å—ï¼Œä½†å‡½æ•°ä»ç„¶æ˜¯ä¸»è¦çš„å®šä¹‰ **è¡Œä¸º**çš„åœ°æ–¹ã€‚ TypeScriptä¸ºJavaScriptå‡½æ•°æ·»åŠ äº†é¢å¤–çš„åŠŸèƒ½ï¼Œè®©æˆ‘ä»¬å¯ä»¥æ›´å®¹æ˜“åœ°ä½¿ç”¨ã€‚

### 4.1 å‡½æ•°å£°æ˜

å’ŒJavaScriptä¸€æ ·ï¼ŒTypeScriptå‡½æ•°å¯ä»¥åˆ›å»ºæœ‰åå­—çš„å‡½æ•°å’ŒåŒ¿åå‡½æ•°ã€‚

```ts
// Named function
function sum1(m,n){
  return m+n
}

// Anonymous function
let sum2=function(m,n){
  return n+n
}
```

å¯¹å‡½æ•°è¾“å…¥å’Œè¾“å‡ºè¿›è¡Œçº¦æŸï¼š

```ts
function sum1(m:number,n:number):number{
  return m+n
}
```

æ³¨æ„ï¼šå¤šè¾“æˆ–è€…å°‘è¾“å‚æ•°éƒ½ä¸è¢«å…è®¸ï¼š

```ts
function sum1(m:number,n:number):number{
  return m+n
}

// å¤šè¾“æˆ–è€…å°‘è¾“å‚æ•°éƒ½ä¸è¢«å…è®¸ Expected 2 arguments, but got 3.
console.log(sum1(1,2,3));
```

#### å°ç»“ï¼š

å‡½æ•°é™åˆ¶ï¼šå¯ä»¥é™åˆ¶å½¢å‚çš„ä¸ªæ•°ã€å½¢å‚çš„ç±»å‹ä»¥åŠè¿”å›å€¼ç±»å‹



### 4.2 å®Œæ•´å‡½æ•°ç±»å‹

ç°åœ¨æˆ‘ä»¬å·²ç»ä¸ºå‡½æ•°æŒ‡å®šäº†ç±»å‹ï¼Œä¸‹é¢è®©æˆ‘ä»¬å†™å‡ºå‡½æ•°çš„å®Œæ•´ç±»å‹ã€‚

```ts
let myAdd: (x: number, y: number) => number =
    function(x: number, y: number): number { return x + y; };
```

å‡½æ•°ç±»å‹åŒ…å«ä¸¤éƒ¨åˆ†ï¼šå‚æ•°ç±»å‹å’Œè¿”å›å€¼ç±»å‹ã€‚ å½“å†™å‡ºå®Œæ•´å‡½æ•°ç±»å‹çš„æ—¶å€™ï¼Œè¿™ä¸¤éƒ¨åˆ†éƒ½æ˜¯éœ€è¦çš„ã€‚ æˆ‘ä»¬ä»¥å‚æ•°åˆ—è¡¨çš„å½¢å¼å†™å‡ºå‚æ•°ç±»å‹ï¼Œä¸ºæ¯ä¸ªå‚æ•°æŒ‡å®šä¸€ä¸ªåå­—å’Œç±»å‹ã€‚ è¿™ä¸ªåå­—åªæ˜¯ä¸ºäº†å¢åŠ å¯è¯»æ€§ã€‚ æˆ‘ä»¬ä¹Ÿå¯ä»¥è¿™ä¹ˆå†™ï¼š

```ts
let myAdd: (baseValue: number, increment: number) => number =
    function(x: number, y: number): number { return x + y; };

const sum5:(base:number,increment:number)=>number=(m:number,n:number):number=>{
  return m+n
}
console.log(sum5(4,5));
```

æ³¨æ„ï¼š

åŒºåˆ†TypesScriptçš„å°±`=>` å’ŒES6çš„ `=>`ã€‚

TypesScriptä¸­ï¼Œ  `=>` è¡¨ç¤ºå‡½æ•°çš„å®šä¹‰ï¼Œå·¦è¾¹æ˜¯è¾“å…¥çº¦æŸï¼Œéœ€è¦ç”¨æ‹¬å·æ‹¬èµ·æ¥ï¼Œå³è¾¹æ˜¯è¾“å‡ºç±»å‹çº¦æŸã€‚



### 4.3 ç”¨æ¥å£å®šä¹‰å‡½æ•°

ç”¨æ¥å£æ¥å¯ä»¥æè¿°å‡½æ•°ç±»å‹ã€‚å®ƒå°±åƒæ˜¯ä¸€ä¸ªåªæœ‰å‚æ•°åˆ—è¡¨å’Œè¿”å›å€¼ç±»å‹çš„å‡½æ•°å®šä¹‰ã€‚å‚æ•°åˆ—è¡¨é‡Œçš„æ¯ä¸ªå‚æ•°éƒ½éœ€è¦åå­—å’Œç±»å‹ã€‚

```ts
// ç”¨æ¥å£å®šä¹‰å‡½æ•°
interface IFunc{
  (x:number,y:number):number
}
// å®šä¹‰ç¬¦åˆè¿™ä¸ªæ¥å£çš„å‡½æ•°
const sum5:IFunc=(m:number,n:number):number=>{
  return m+n
}
```



#### å¯é€‰å‚æ•°

å‰é¢çš„å†™æ³•ï¼Œä¼ é€’ç»™ä¸€ä¸ªå‡½æ•°çš„å‚æ•°ä¸ªæ•°å¿…é¡»ä¸å‡½æ•°æœŸæœ›çš„å‚æ•°ä¸ªæ•°ä¸€è‡´ã€‚

JavaScripté‡Œï¼Œæ¯ä¸ªå‚æ•°éƒ½æ˜¯å¯é€‰çš„ï¼Œå¯ä¼ å¯ä¸ä¼ ã€‚ æ²¡ä¼ å‚çš„æ—¶å€™ï¼Œå®ƒçš„å€¼å°±æ˜¯undefinedã€‚ åœ¨TypeScripté‡Œæˆ‘ä»¬å¯ä»¥åœ¨å‚æ•°åæ—ä½¿ç”¨ `?`å®ç°å¯é€‰å‚æ•°çš„åŠŸèƒ½ã€‚ æ¯”å¦‚ï¼Œæˆ‘ä»¬æƒ³è®©last nameæ˜¯å¯é€‰çš„ï¼š   ?:

```ts
function buildName(firstName: string, lastName?: string) {
    if (lastName)
        return firstName + " " + lastName;
    else
        return firstName;
}

let result1 = buildName("Bob");  // works correctly now
let result2 = buildName("Bob", "Adams", "Sr.");  // error, too many parameters
let result3 = buildName("Bob", "Adams");  // ah, just right
```



æ³¨æ„ï¼š

å¯é€‰å‚æ•°å¿…é¡»è·Ÿåœ¨å¿…é¡»å‚æ•°åé¢ã€‚



#### é»˜è®¤å‚æ•°

åœ¨TypeScripté‡Œï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸ºå‚æ•°æä¾›ä¸€ä¸ªé»˜è®¤å€¼å½“ç”¨æˆ·==æ²¡æœ‰ä¼ é€’è¿™ä¸ªå‚æ•°æˆ–ä¼ é€’çš„å€¼æ˜¯`undefined`æ—¶==ã€‚ å®ƒä»¬å«åšæœ‰é»˜è®¤åˆå§‹åŒ–å€¼çš„å‚æ•°ã€‚ è®©æˆ‘ä»¬ä¿®æ”¹ä¸Šä¾‹ï¼ŒæŠŠlast nameçš„é»˜è®¤å€¼è®¾ç½®ä¸º`"Smith"`ã€‚

```ts
function buildName(firstName: string, lastName = "Smith") {
    return firstName + " " + lastName;
}

let result1 = buildName("Bob");// works correctly now, returns "Bob Smith"
let result2 = buildName("Bob", undefined);// still works, also returns "Bob Smith"
let result3 = buildName("Bob", "Adams", "Sr."); // error, too many parameters
let result4 = buildName("Bob", "Adams");// ah, just right
```



#### å‰©ä½™å‚æ•°

åŒES6ä¸­ï¼Œå¯ä»¥ç”¨`...rest`çš„æ–¹å¼è·å–å‡½æ•°ä¸­çš„å‰©ä½™å‚æ•°ã€‚

```ts
// ES6 å‰©ä½™å‚æ•°
function sum6(array,...rest){
  rest.forEach((item)=>{
    array.push(item)
  })
}
```

rest æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨æ•°ç»„çš„ç±»å‹æ¥å®šä¹‰å®ƒï¼š

```ts
// å‰©ä½™å‚æ•° æ±‚å’Œ
const  sum6=(step:number,...nums:number[]):number=>{
  return nums.reduce((pre,item)=>{
    return pre+item
  },0)*step
}

sum6(1,2,3,4)
```

##### æ³¨æ„ï¼š

å‰©ä½™å‚æ•°ä¼šè¢«å½“åšä¸ªæ•°ä¸é™çš„å¯é€‰å‚æ•°ã€‚ å¯ä»¥ä¸€ä¸ªéƒ½æ²¡æœ‰ï¼ŒåŒæ ·ä¹Ÿå¯ä»¥æœ‰ä»»æ„ä¸ªã€‚è€Œä¸”åªèƒ½æ˜¯æœ€åä¸€ä¸ªå‚æ•°ã€‚



### 4.4 é‡è½½

JavaScriptæœ¬èº«æ˜¯ä¸ªåŠ¨æ€è¯­è¨€ã€‚ JavaScripté‡Œå‡½æ•°æ ¹æ®ä¼ å…¥ä¸åŒçš„å‚æ•°è€Œè¿”å›ä¸åŒç±»å‹çš„æ•°æ®æ˜¯å¾ˆå¸¸è§çš„ã€‚

TypeScript å…è®¸ä¸€ä¸ªå‡½æ•°æ¥å—ä¸åŒæ•°é‡æˆ–ç±»å‹çš„å‚æ•°æ—¶ï¼Œä½œå‡ºä¸åŒçš„å¤„ç†ã€‚

æ¯”å¦‚ï¼Œæˆ‘ä»¬éœ€è¦å®ç°ä¸€ä¸ªåè½¬åŠŸèƒ½çš„å‡½æ•° `reverse` ï¼Œè¾“å…¥æ•°å­— `123`ï¼Œè¾“å‡ºï¼š`321` ,è¾“å…¥å­—ç¬¦ä¸²ï¼š`hello` ï¼Œ è¾“å‡º å­—ç¬¦ä¸²`olleh`

```ts
// å‡½æ•°é‡è½½
function reverse (value:number):number
function reverse(value:string):string
function reverse(val:number|string):number|string{
  if(typeof  val==='number'){
    return Number(val.toString().split('').reverse().join(''))
  }else{
    return val.split('').reverse().join('')
  }
}

console.log(reverse(123));  // 321
console.log(reverse('hello'));  //olleh
```

ä¸Šä¾‹ä¸­ï¼Œé‡å¤å®šä¹‰äº†å¤šæ¬¡ `reverse` å‡½æ•°ï¼Œå‰é¢ä¸¤æ¬¡æ˜¯å‡½æ•°å®šä¹‰ï¼Œæœ€åä¸€æ¬¡æ˜¯å‡½æ•°å®ç°ã€‚

å¯ä»¥çœ‹åˆ°å‡½æ•°å®šä¹‰çš„æç¤ºï¼šoverload

![å‡½æ•°é‡è½½](images/å‡½æ•°é‡è½½.png)







## äº”ã€ç±»

ä¼ ç»Ÿæ–¹æ³•ä¸­ï¼ŒJavaScript é€šè¿‡æ„é€ å‡½æ•°å®ç°ç±»çš„æ¦‚å¿µï¼Œé€šè¿‡åŸå‹é“¾å®ç°ç»§æ‰¿ã€‚è€Œåœ¨ES6ä¸­ï¼Œæˆ‘ä»¬ç»ˆäºè¿æ¥äº†classã€‚

TypeScripté™¤äº†å®ç°äº†æ‰€æœ‰ES6ä¸­çš„ç±»çš„åŠŸèƒ½ä»¥å¤–ï¼Œè¿˜æ·»åŠ äº†ä¸€äº›æ–°çš„ç”¨æ³•ã€‚

è¿™ä¸€èŠ‚ä¸»è¦ä»‹ç»ç±»çš„ç”¨æ³•ï¼Œä¸‹ä¸€èŠ‚å†ä»‹ç»å¦‚ä½•å®šä¹‰ç±»çš„ç±»å‹ã€‚



### 5.1 ç±»çš„æ¦‚å¿µ

è™½ç„¶JavaScriptä¸­æœ‰ç±»çš„æ¦‚å¿µï¼Œä½†æ˜¯å¯èƒ½å¤§å¤šæ•°JavaScriptç¨‹åºå‘˜å¹¶ä¸æ˜¯éå¸¸ç†Ÿæ‚‰ç±»ï¼Œè¿™é‡Œå¯¹ç±»ç›¸å…³çš„æ¦‚å¿µåšä¸€ä¸ªç®€å•çš„ä»‹ç»ã€‚

- ç±»(Class):å®šä¹‰äº†ä¸€ç§äº‹ç‰©çš„æŠ½è±¡ç‰¹ç‚¹ï¼ŒåŒ…å«å®ƒçš„å±æ€§å’Œæ–¹æ³•

- å¯¹è±¡(0bject) :ç±»çš„å®ä¾‹ï¼Œé€šè¿‡new ç”Ÿæˆ

- é¢å‘å¯¹è±¡(00P)çš„å››å¤§ç‰¹æ€§:æŠ½è±¡ã€å°è£…ã€ç»§æ‰¿ã€å¤šæ€

- æŠ½è±¡(Abstract) :å°†äº‹ç‰©çš„ç‰¹ç‚¹æŠ½è±¡æˆå±æ€§å’Œæ–¹æ³•

- å°è£…(Encapsulation) :å°†å¯¹æ•°æ®çš„æ“ä½œç»†èŠ‚éšè—èµ·æ¥ï¼Œåªæš´éœ²å¯¹å¤–çš„æ¥å£ã€‚å¤–ç•Œè°ƒç”¨ç«¯ä¸éœ€è¦(ä¹Ÿä¸å¯èƒ½)çŸ¥é“ç»†èŠ‚ï¼Œå°±èƒ½é€šè¿‡å¯¹å¤–æä¾›çš„æ¥å£æ¥è®¿é—®è¯¥å¯¹è±¡ï¼ŒåŒæ—¶ä¹Ÿä¿è¯äº†å¤–ç•Œæ— æ³•ä»»æ„æ›´æ”¹å¯¹è±¡å†…éƒ¨çš„æ•°æ®

- ç»§æ‰¿(Inheritance) ï¼šå­ç±»ç»§æ‰¿çˆ¶ç±»ï¼Œå­ç±»é™¤äº†æ‹¥æœ‰çˆ¶ç±»çš„æ‰€æœ‰ç‰¹æ€§å¤–,è¿˜æœ‰-äº›æ›´å…·ä½“çš„ç‰¹æ€§

- å¤šæ€(Polymorphism) ï¼šç”±ç»§æ‰¿è€Œäº§ç”Ÿäº†ç›¸å…³çš„ä¸åŒçš„ç±»ï¼Œå¯¹åŒä¸€ä¸ªæ–¹æ³•å¯ä»¥æœ‰ä¸åŒçš„å“åº”ã€‚æ¯”å¦‚Catå’ŒDogéƒ½ç»§æ‰¿è‡ªAnimal ï¼Œä½†æ˜¯åˆ†åˆ«å®ç°äº†è‡ªå·±çš„eatæ–¹æ³•ã€‚æ­¤æ—¶é’ˆå¯¹æŸä¸€ä¸ªå®ä¾‹ï¼Œæˆ‘ä»¬æ— éœ€äº†è§£å®ƒæ˜¯Cat è¿˜æ˜¯Dogï¼Œå°±å¯ä»¥ç›´æ¥è°ƒç”¨eat æ–¹æ³•ï¼Œç¨‹åºä¼šè‡ªåŠ¨åˆ¤æ–­å‡ºæ¥åº”è¯¥å¦‚ä½•æ‰§è¡Œeatã€‚

- å­˜å–å™¨(getter & setter) :ç”¨ä»¥æ”¹å˜å±æ€§çš„è¯»å–å’Œèµ‹å€¼è¡Œä¸º

- ä¿®é¥°ç¬¦(Modifers):ä¿®é¥°ç¬¦æ˜¯ä¸€äº›å…³é”®å­—ï¼Œç”¨äºé™å®šæˆå‘˜æˆ–ç±»å‹çš„æ€§è´¨ã€‚æ¯”å¦‚public è¡¨ç¤ºå…¬æœ‰å±æ€§æˆ–æ–¹æ³•ï¼Œprivateï¼Œprotectedã€‚

- æŠ½è±¡ç±»(Abstract Class) ï¼šæŠ½è±¡ç±»æ˜¯ä¾›å…¶ä»–ç±»ç»§æ‰¿çš„åŸºç±»ï¼ŒæŠ½è±¡ç±»ä¸å…è®¸è¢«å®ä¾‹åŒ–ã€‚æŠ½è±¡ç±»ä¸­çš„æŠ½è±¡æ–¹æ³•å¿…é¡»åœ¨å­ç±»ä¸­è¢«å®ç°

- æ¥å£(Interfaces) :ä¸åŒç±»ä¹‹é—´å…¬æœ‰çš„å±æ€§æˆ–æ–¹æ³•ï¼Œå¯ä»¥æŠ½è±¡æˆä¸€ä¸ªæ¥å£ã€‚æ¥å£å¯ä»¥è¢«ç±»å®ç°(implements)ã€‚

  ä¸€ä¸ªç±»åªèƒ½ç»§æ‰¿è‡ªå¦ä¸€ä¸ªç±»ï¼Œä½†æ˜¯å¯ä»¥å®ç°å¤šä¸ªæ¥å£



### 5.2 ES6 ä¸­ç±»çš„ç”¨æ³•

#### å±æ€§å’Œæ–¹æ³•

ä½¿ç”¨`class`å®šä¹‰ç±»ï¼Œä½¿ç”¨`construcor` å®šä¹‰æ„é€ å‡½æ•°ã€‚

é€šè¿‡ `new` ç”Ÿæˆæ–°çš„å®ä¾‹æ—¶ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨æ„é€ å‡½æ•°ã€‚

```js
class Person {
  constructor(name, age) {
    this.name = name;
    this.age = age;
  }
  sayHi() {
    console.log(`æˆ‘æ˜¯${this.name},${this.age}å²äº†ï¼`);
  }
}

let p = new Person("zs", 18);
p.sayHi(); // æˆ‘æ˜¯zs,18å²äº†ï¼
```



#### ç±»çš„ç»§æ‰¿

ä½¿ç”¨ `extends` å…³é”®å­—å®ç°ç»§æ‰¿ï¼Œå­ç±»ä¸­ä½¿ç”¨ `super`å…³é”®å­—æ¥è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°å’Œæ–¹æ³•ã€‚

```js
class Student extends Person {
  constructor(name, age, score) {
    super(name, age); // è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°
    this.score = score;
  }
  sayHi() {
    super.sayHi() //è°ƒç”¨çˆ¶ç±»çš„sayHi()
    // console.log("ä½ å¥½å•Šï¼" + super.sayHi()); //è°ƒç”¨çˆ¶ç±»çš„sayHi()
  }
}

let s = new Student("Tom",20);
s.sayHi(); // æˆ‘æ˜¯zs,20å²äº†ï¼
```



#### é™æ€æ–¹æ³•

ä½¿ç”¨ `static` ä¿®é¥°ç¬¦ä¿®é¥°çš„æ–¹æ³•ç§°ä¸ºé™æ€æ–¹æ³•ï¼Œå®ƒä»¬ä¸éœ€è¦å®ä¾‹åŒ–ï¼Œè€Œæ˜¯ç›´æ¥é€šè¿‡ç±»æ¥è°ƒç”¨:

```js
// é™æ€æ–¹æ³•
class Dog {
  static type='ç‹—'
  static isDog(d) {
    console.log(d instanceof Dog);
    // return d instanceof Dog;
  }
}
let dog = new Dog("Jerry");
Dog.isDog(dog); //true
dog.isDog(dog); // Uncaught TypeError: dog.isDog is not a function
```





### 5.3 ES7 ä¸­ç±»çš„ç”¨æ³•

ES7ä¸­æœ‰ä¸€äº›å…³äºç±»çš„ææ¡ˆï¼ŒTypeScript ä¹Ÿå®ç°äº†å®ƒä»¬ã€‚

#### å®ä¾‹å±æ€§

ES6 ä¸­å®ä¾‹çš„å±æ€§ï¼Œåªèƒ½é€šè¿‡æ„é€ å‡½æ•°ä¸­çš„ `this.xxx`æ¥å®šä¹‰ï¼ŒES7ææ¡ˆä¸­ï¼Œå¯ä»¥ç›´æ¥åœ¨ç±»é‡Œé¢å®šä¹‰ã€‚

```js
class Bird {
  name='Poly'
  constructor(){
    //...
  }
}

let b=new Bird()
console.log(b.name);
```



#### é™æ€å±æ€§

ES7ææ¡ˆä¸­ï¼Œå¯ä»¥ä½¿ç”¨ `static`å®šä¹‰ä¸€ä¸ªé™æ€å±æ€§ï¼š

```js
class Bird {
  name = "Poly";
  static type = "animal"; //é™æ€å±æ€§
  constructor() {
    //...
  }
}
let b = new Bird();
console.log(b.name);

// è®¿é—®é™æ€å±æ€§
console.log(Bird.type); // animal
```



### 5.4 TS ä¸­ç±»çš„ç”¨æ³•

#### public privateå’Œprotected

TypeScriptå¯ä»¥ä½¿ç”¨ä¸‰ç§è®¿å‘ä¿®é¥°ç¬¦ï¼Œåˆ†åˆ«æ˜¯public ã€private å’Œprotectedã€‚

- public ä¿®é¥°çš„å±æ€§æˆ–æ–¹æ³•æ˜¯å…¬æœ‰çš„ï¼Œå¯ä»¥åœ¨ä»»ä½•åœ°æ–¹è¢«è®¿é—®åˆ°ï¼Œé»˜è®¤æ‰€æœ‰çš„å±æ€§å’Œæ–¹æ³•éƒ½æ˜¯public çš„ã€‚
- private ä¿®é¥°çš„å±æ€§æˆ–æ–¹æ³•æ˜¯ç§æœ‰çš„ï¼Œä¸èƒ½åœ¨å£°æ˜å®ƒçš„ç±»çš„å¤–éƒ¨è®¿é—®ï¼›åªæœ‰çˆ¶ç±»å†…ä¸æ‰å¯ä»¥ä½¿ç”¨
- protected ä¿®é¥°çš„å±æ€§æˆ–æ–¹æ³•æ˜¯å—ä¿æŠ¤çš„ï¼Œå®ƒå’Œprivate ç±»ä¼¼ï¼ŒåŒºåˆ¥æ˜¯å®ƒåœ¨å­ç±»ä¸­ä¹Ÿæ˜¯å…è®¸è¢«è®¿é—®çš„

```ts
class Person{
  // public name:string
  // private name:string
  protected name:string
  
  constructor(name:string){
    this.name=name
  }
  sayHi(){
    console.log('çˆ¶ç±»sayHiæ–¹æ³•ï¼š',this.name); 
  }
}

class Student extends Person{
  constructor(name:string){
    super(name)
  }
  run(){
    console.log('å­ç±»runæ–¹æ³•ï¼š',this.name);    
  }
}

const p=new Person('per')
const s=new Student('stu')


// static é™æ€å±æ€§å¯ä»¥è¢«ç±»æœ¬èº«è°ƒç”¨ï¼Œå¹¶ä¸”å†…éƒ¨æ²¡æœ‰this
// public çˆ¶ç±»å®ä¾‹ï¼šokï¼›çˆ¶ç±»å†…éƒ¨ï¼šokï¼›å­ç±»æœ¬èº«ï¼šokï¼›å­ç±»å†…éƒ¨ï¼šok  ï¼›
//private: çˆ¶ç±»å®ä¾‹ï¼šnoï¼›çˆ¶ç±»å†…éƒ¨ï¼šokï¼›å­ç±»æœ¬èº«ï¼šnoï¼›å­ç±»å†…éƒ¨ï¼šno  ï¼›
//protected: çˆ¶ç±»å®ä¾‹ï¼šnoï¼›çˆ¶ç±»å†…éƒ¨ï¼šokï¼›å­ç±»æœ¬èº«ï¼šnoï¼›å­ç±»å†…éƒ¨ï¼šok  ï¼›

// public éƒ½å¯ä»¥
// private  ç§æœ‰çš„åªèƒ½åœ¨çˆ¶ç±»å†…éƒ¨è®¿é—®ï¼›çˆ¶ç±»å’Œå­ç±»å®ä¾‹ï¼Œå­ç±»å†…éƒ¨éƒ½ä¸å¯ä»¥è®¿é—®
// protected å—ä¿æŠ¤çš„  çˆ¶ç±»å’Œå­ç±»å†…éƒ¨éƒ½å¯ä»¥è®¿é—®ï¼Œå®ä¾‹éƒ½ä¸å¯ä»¥è®¿é—®
console.log(p.name);
console.log(s.name);
p.sayHi()
s.run()
```



#### readonly ä¿®é¥°ç¬¦

å¯ä»¥ä½¿ç”¨ `readonly`å…³é”®å­—å°†å±æ€§è®¾ç½®ä¸ºåªè¯»çš„ã€‚ åªè¯»å±æ€§å¿…é¡»åœ¨å£°æ˜æ—¶æˆ–æ„é€ å‡½æ•°é‡Œè¢«åˆå§‹åŒ–ã€‚

```ts
class Person{
  name:string

  // ç›´æ¥å†™public id,å¯çœç•¥ä¸‹é¢çš„ this.id=id å’Œä¸Šé¢çš„ id:string
  constructor(public readonly id:string,name:string){
    this.name=name
  }
  sayHi(){
    console.log('çˆ¶ç±»sayHiæ–¹æ³•ï¼š',this.name); 
  }
}

class Student extends Person{
  constructor(id:string,name:string){
    super(id,name)
  }
  run(){
    console.log('å­ç±»runæ–¹æ³•ï¼š',this.name);    
  }
}

const p=new Person('1','per')
const s=new Student('2','stu')


console.log(p.name,p.id);  // per 1
// ä¿®æ”¹ id
// p.id=3  //æ— æ³•ä¸ºâ€œidâ€èµ‹å€¼ï¼Œå› ä¸ºå®ƒæ˜¯åªè¯»å±æ€§ã€‚
```



#### å¯¹è±¡æ·»åŠ ç±»ç±»å‹

ç»™å¯¹è±¡åŠ ä¸Š TypeScript çš„ç±»å‹å¾ˆç®€å•ï¼Œä¸æ¥å£ç±»ä¼¼ï¼š

```ts
// é™å®šå®ä¾‹å±äºå½“å‰ç±»
let p2:Person=new Person('1','per')
let s2:Student=new Student('2','stu')
```





### 5.5 ç±»ä¸æ¥å£

åœ¨ TypeScript ä¸­ï¼Œæ¥å£æ˜¯ä¸€ä¸ªéå¸¸çµæ´»çš„æ¦‚å¿µï¼Œé™¤äº†å¯ç”¨äºå¯¹ç±»çš„ä¸€éƒ¨åˆ†è¡Œä¸ºè¿›è¡ŒæŠ½è±¡ä»¥å¤–ï¼Œä¹Ÿå¸¸ç”¨äºå¯¹ **å¯¹è±¡çš„å½¢çŠ¶(Shape)** è¿›è¡Œæè¿°ã€‚æ¥å£æ˜¯å¯¹è¡Œä¸ºçš„æŠ½è±¡ï¼Œè€Œå…·ä½“å¦‚ä½•è¡ŒåŠ¨éœ€è¦ç”±ç±»(class)å»å®ç°(implements) ã€‚

#### ç±»å®ç°æ¥å£

å®ç°ï¼ˆimplementsï¼‰æ˜¯é¢å‘å¯¹è±¡ä¸­çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µã€‚ä¸€èˆ¬æ¥è®²ï¼Œä¸€ä¸ªç±»åªèƒ½ç»§æ‰¿è‡ªå¦ä¸€ä¸ªç±»ï¼Œæœ‰æ—¶å€™ä¸åŒç±»ä¹‹é—´å¯ä»¥æœ‰ä¸€äº›å…±æœ‰çš„ç‰¹æ€§ï¼Œè¿™æ—¶å€™å°±å¯ä»¥æŠŠç‰¹æ€§æå–æˆæ¥(interface) ï¼Œç”¨ `implements` å…³é”®å­—æ¥å®ç°ã€‚è¿™ä¸ªç‰¹æ€§å¤§å¤§æé«˜äº†é¢å‘å¯¹è±¡çš„çµæ´»æ€§ã€‚

ä¸¾ä¾‹æ¥è¯´ï¼Œç‹—æ˜¯ä¸€ä¸ªç±»ï¼Œæœ‰æ‰“æ‹›å‘¼çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šç»™ç‹—ç±»æ·»åŠ ä¸€ä¸ªæ‰“æ‹›å‘¼çš„æ–¹æ³•ã€‚æ­¤æ—¶ï¼Œåˆæœ‰ä¸€ä¸ªé¸Ÿç±»ï¼Œä¹Ÿæœ‰æ‰“æ‹›å‘¼çš„åŠŸèƒ½ï¼Œä½†æ˜¯å…·ä½“çš„æ‰“æ‹›å‘¼è¯­è¨€ä¸åŒï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠæ‰“æ‹›å‘¼åŠŸèƒ½æå–å‡ºæ¥ï¼Œä½œä¸ºä¸€ä¸ªæ¥å£ï¼Œè®©ç‹—ç±»å’Œé¸Ÿç±»éƒ½å»å®ç°å®ƒã€‚

æ¥å£å°±æ˜¯é™åˆ¶ç±»å¿…é¡»è¦æœ‰ä»€ä¹ˆå±æ€§æˆ–æ–¹æ³•çš„ã€‚

```ts
// å®šä¹‰æ¥å£ï¼šæ‰“æ‹›å‘¼
interface ISay{
  say():string
}
// å®šä¹‰æ¥å£ï¼šåƒä¸œè¥¿
interface IEat{
  eat():void
}
// ç‹—ç±»
class Dog implements ISay,IEat{
  name:string
  age:number
  constructor(name:string,age:number){
    this.name=name
    this.age=age
  }
  say(): string {
    return `${this.name},ä»Šå¹´${this.age}å²äº†ï¼Œå«ï¼šæ±ªæ±ªæ±ª~`
  }
  eat(): void {
    console.log(this.name+'åƒéª¨å¤´å‘€');   
  }
}
// é¸ŸğŸ¦ ç±»
class Bird implements ISay,IEat{
  name:string
  age:number
  constructor(name:string,age:number){
    this.name=name
    this.age=age
  }
  say(): string {
    return `${this.name},ä»Šå¹´${this.age}å²äº†ï¼Œå«ï¼šï¼Œæ±ªæ±ªæ±ª~`
  }
  eat(): void {
    console.log(`${this.name},å«ï¼šå–³å–³å–³çš„`);
  }
  
}

let dog=new Dog('å°ç‹—',3)
dog.eat()
console.log(dog.say());

let bird=new Bird('å°é¸Ÿ',2)
bird.eat()
console.log(bird.say());

```

æ¡ˆä¾‹ä¸­ï¼Œ`Dog` å’Œ `Bird` éƒ½å®ç°äº† `ISay` å’Œ `IEat` æ¥å£ï¼Œéƒ½æ˜¯æ—¢èƒ½åƒï¼Œå°±èƒ½æ‰“æ‹›å‘¼ã€‚æˆ‘ä»¬è¿˜å¯ä»¥å†åŠ ä¸€ä¸ª `IFly` é£çš„æ¥å£ï¼Œåªæœ‰ `Bird` å¯ä»¥å®ç°ã€‚



#### æ¥å£ç»§æ‰¿æ¥å£

å’Œç±»ä¸€æ ·ï¼Œæ¥å£ä¹Ÿå¯ä»¥ç›¸äº’ç»§æ‰¿ã€‚ è¿™è®©æˆ‘ä»¬èƒ½å¤Ÿä»ä¸€ä¸ªæ¥å£é‡Œå¤åˆ¶æˆå‘˜åˆ°å¦ä¸€ä¸ªæ¥å£é‡Œï¼Œå¯ä»¥æ›´çµæ´»åœ°å°†æ¥å£åˆ†å‰²åˆ°å¯é‡ç”¨çš„æ¨¡å—é‡Œã€‚

```ts
// å®šä¹‰ç±»åˆ«æ¥å£
interface IType extends ISay,IEat{
  type:string
}

// å®šä¹‰ğŸ‘ç±»
class Sheep implements IType{
  name:string
  age:number
  constructor(name:string,age:number){
    this.name=name
    this.age=age
  }
  say(): string {
    return `${this.name},ä»Šå¹´${this.age}å²äº†ï¼Œå«ï¼šï¼Œå’©~`
  }
  eat(): void {
    console.log(`${this.name},åƒé’è‰`);
   
  }
  type:string='ç¾Šç±»'
  
}

let sheep=new Sheep('ç¾ç¾Šç¾Š',3)
console.log(sheep.type);
console.log(sheep.say());
sheep.eat()
```



#### æ¥å£ç»§æ‰¿ç±»

å½“æ¥å£ç»§æ‰¿äº†ä¸€ä¸ªç±»ç±»å‹æ—¶ï¼Œå®ƒä¼šç»§æ‰¿ç±»çš„æˆå‘˜ä½†ä¸åŒ…æ‹¬å…¶å®ç°ã€‚ å°±å¥½åƒæ¥å£å£°æ˜äº†æ‰€æœ‰ç±»ä¸­å­˜åœ¨çš„æˆå‘˜ï¼Œä½†å¹¶æ²¡æœ‰æä¾›å…·ä½“å®ç°ä¸€æ ·ã€‚ ==æ¥å£åŒæ ·ä¼šç»§æ‰¿åˆ°ç±»çš„privateå’Œprotectedæˆå‘˜ã€‚ è¿™æ„å‘³ç€å½“ä½ åˆ›å»ºäº†ä¸€ä¸ªæ¥å£ç»§æ‰¿äº†ä¸€ä¸ªæ‹¥æœ‰ç§æœ‰æˆ–å—ä¿æŠ¤çš„æˆå‘˜çš„ç±»æ—¶ï¼Œè¿™ä¸ªæ¥å£ç±»å‹åªèƒ½è¢«è¿™ä¸ªç±»æˆ–å…¶å­ç±»æ‰€å®ç°ï¼ˆimplementsï¼‰==ã€‚

å½“ä½ æœ‰ä¸€ä¸ªåºå¤§çš„ç»§æ‰¿ç»“æ„æ—¶è¿™å¾ˆæœ‰ç”¨ï¼Œä½†è¦æŒ‡å‡ºçš„æ˜¯ä½ çš„ä»£ç åªåœ¨å­ç±»æ‹¥æœ‰ç‰¹å®šå±æ€§æ—¶èµ·ä½œç”¨ã€‚ è¿™ä¸ªå­ç±»é™¤äº†ç»§æ‰¿è‡³åŸºç±»å¤–ä¸åŸºç±»æ²¡æœ‰ä»»ä½•å…³ç³»ã€‚ ä¾‹ï¼š

```ts
class Point{
  x:number
  y:number
  constructor(x:number,y:number){
    this.x=x
    this.y=y
  }
}
// æ¥å£ç»§æ‰¿ç±»
interface Ponit3d extends Point{
  z:number
}
/**
 * ç›¸å½“äº
 * interface Ponit3d {
 *  x:number
 *  y:number
 *  z:number
 * }
 */

let point3d:Ponit3d={x:1,y:2,z:3}

console.log(point3d);
```



#### æ€»ç»“ï¼š

1. ä¸€ä¸ªç±»åªèƒ½æœ‰ä¸€ä¸ªçˆ¶ç±»ï¼Œä½†æ˜¯ä¸€ä¸ªç±»å¯ä»¥ç»§æ‰¿å¤šä¸ªæ¥å£
2. ä¸€ä¸ªæ¥å£å¯ä»¥ç»§æ‰¿æ¥å£ï¼Œè€Œä¸”å¯ä»¥ç»§æ‰¿å¤šä¸ªæ¥å£
3. ç±»æ˜¯å®ç°å…·ä½“æ¥å£ï¼›
4. æ¥å£å¯ä»¥ç»§æ‰¿ç±»









## å…­ã€æ³›å‹

æ³›å‹ï¼ˆGenericï¼‰æ˜¯æŒ‡åœ¨å®šä¹‰å‡½æ•°ã€æ¥å£æˆ–ç±»çš„æ—¶å€™ï¼Œä¸é¢„å…ˆæŒ‡å®šå…·ä½“çš„ç±»å‹ï¼Œè€Œåœ¨ä½¿ç”¨çš„æ—¶å€™å†æŒ‡å®šç±»å‹çš„ä¸€ç§ç‰¹æ€§ã€‚

å®ç°æ•ˆæœï¼šè°ƒç”¨ `createArray` å‡½æ•°ï¼Œè¿”å›ï¼š

```ts
createArray(1,5)  //è¿”å›ï¼š [1,1,1,1,1]
createArray('hello',3)  // è¿”å›ï¼š['hello','hello','hello']
createArray(null,3)  // è¿”å›ï¼š[null,null,null]
```



é¦–å…ˆæƒ³åˆ°çš„æ˜¯anyï¼š

```ts
const  createArray=(value:any,length:number):Array<any>=>{
  let res=[]
  for (let i = 0; i < length; i++) {
    res[i]=value
  }
  return res
}
```

é—®é¢˜ï¼š

`Array[any]` å…è®¸æ•°ç»„çš„æ¯ä¸€é¡¹éƒ½ä¸ºä»»æ„ç±»å‹ã€‚ä¸èƒ½ä¿è¯è¾“å‡ºçš„æ•°ç»„é‡Œé¢çš„å…ƒç´ è·Ÿè¾“å…¥çš„valueæ•°æ®ç±»å‹ä¸€è‡´ã€‚

æ­¤æ—¶ï¼Œå°±éœ€è¦ç”¨æ³›å‹ï¼š

### 6.1 æ³›å‹å‚æ•°

```ts
// æ¨æ–­ï¼Œä¼ å…¥çš„valueæ˜¯string,é‚£ä¹ˆè¿”å›å€¼ä¹Ÿæ˜¯string
// å®šä¹‰çš„æ—¶å€™ï¼Œä¸çŸ¥é“ä»€ä¹ˆç±»å‹ã€‚æå‰ç•™ä¸ªç©ºï¼Œä½¿ç”¨çš„æ—¶å€™å†æŒ‡å®šç±»å‹
// å†™æ³•1 ï¼š
const  createArray=<T>(value:T,length:number):T[]=>{
  let res:T[]=[]
  for (let i = 0; i < length; i++) {
    res[i]=value
  }
  return res
}

// å†™æ³•2ï¼š
function createArray<T>(value:T,length:number):Array<T>{
  let res:T[]=[]
  for (let i = 0; i < length; i++) {
    res[i]=value
  }
  return res
}

// createArray(1,5)  //è¿”å›ï¼š [1,1,1,1,1]
// createArray('hello',3)  // è¿”å›ï¼š['hello','hello','hello']
// createArray(null,3)  // è¿”å›ï¼š[null,null,null]

const arr1:string[]= createArray<string>('hello',3)
const arr2:number[]= createArray<number>(1,5)
console.log(arr1);
console.log(arr2);
```



### 6.2 å¤šç±»å‹å‚æ•°

å®šä¹‰æ³›å‹æ—¶ï¼Œå¯ä»¥ä¸€æ¬¡å®šä¹‰å¤šä¸ªç±»å‹å‚æ•°ã€‚

æ¡ˆä¾‹ï¼šå®šä¹‰å‡½æ•°æ¥ä¸€ä¸ªäº¤æ¢è¾“å…¥çš„å…ƒç»„ã€‚

```ts
reverseTuple([1,'one']) ==> ['one',1]
reverseTuple(['one',1]) ==> [1,'one']
```



 ```ts
// å‚æ•° params é™å®šä¸ºå…ƒç»„ç±»å‹ [number,string]
const reverseTuple=(params:[number,string]):[string,number]=>{
    return [params[1],params[0]]
}
console.log(reverseTuple([1,'one'])); // ['one',1]


// å¦‚æœè¯´ reverseTuple(['one',1]) ==> [1,'one']
const reverseTuple2 = <T,S> (params:[T,S]):[S,T]=>{
  return [params[1],params[0]]
}

const res1=reverseTuple2<string,number>(['one',1])
const res2=reverseTuple2<number,string>([1,'one'])
console.log(res1);
console.log(res2); // ['one',1]
 ```



### 6.3 æ³›å‹çº¦æŸ

åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨æ³›å‹å‚æ•°çš„æ—¶å€™ï¼Œç”±äºäº‹å…ˆä¸çŸ¥é“å®ƒæ˜¯å“ªç§ç±»å‹ï¼Œæ‰€ä»¥ä¸èƒ½éšæ„çš„æ“ä½œå®ƒ çš„å±æ€§æˆ–æ–¹æ³•ï¼š

```ts
function logging<T>(arg:T):T{
  console.log(arg.length); // Error: T doesn't have .length
  return arg
}

logging([1,2,3])
logging(999)
```

ä¸Šä¾‹å­ä¸­ï¼Œæ³›å‹ `T` ä¸ä¸€å®šåŒ…å«å±æ€§ `length` ï¼Œæ‰€ä»¥ï¼Œç¼–è¯‘çš„æ—¶å€™æŠ¥é”™ã€‚



#### æ–¹å¼ä¸€ï¼šæ“ä½œ`T`ç±»å‹çš„æ•°ç»„

å‡è®¾æ“ä½œ`T`ç±»å‹çš„æ•°ç»„è€Œä¸ç›´æ¥æ˜¯`T`ã€‚

```ts
function logging<T>(arg: T[]): T[] {
    console.log(arg.length);  // Array has a .length, so no more error
    return arg;
}
```

å¯ä»¥ç†è§£ä¸ºï¼šæ³›å‹å‡½æ•°`logging`ï¼Œæ¥æ”¶ç±»å‹å‚æ•°`T`å’Œå‚æ•°`arg`ï¼Œå®ƒæ˜¯ä¸ªå…ƒç´ ç±»å‹æ˜¯`T`çš„æ•°ç»„ï¼Œå¹¶è¿”å›å…ƒç´ ç±»å‹æ˜¯`T`çš„æ•°ç»„ã€‚è¿™æ ·ï¼ŒæŠŠæ³›å‹å˜é‡Tå½“åšç±»å‹çš„ä¸€éƒ¨åˆ†ä½¿ç”¨ï¼Œè€Œä¸æ˜¯æ•´ä¸ªç±»å‹ï¼Œå¢åŠ äº†çµæ´»æ€§ã€‚



#### æ–¹å¼äºŒï¼šæ³›å‹æ•°ç»„

è¿˜å¯ä»¥ç”¨ **æ³›å‹æ•°ç»„** `Array<T>` çš„å†™æ³•ï¼š

```ts
function logging<T>(arg: Array<T>): Array<T> {
    console.log(arg.length);  // Array has a .length, so no more error
    return arg;
}
```



#### æ–¹å¼ä¸‰ï¼šæ¥å£çº¦æŸ

è¿˜å¯ä»¥ä½¿ç”¨æ¥å£å¯¹æ³›å‹è¿›è¡Œçº¦æŸï¼Œåªå…è®¸è¿™ä¸ªå‡½æ•°ä¼ å…¥åŒ…å« `length` å±æ€§çš„å˜é‡ã€‚

```ts
// å®šä¹‰æ¥å£ ï¼Œå¿…é¡»è¦æœ‰lengthå±æ€§
interface ILength{
  length:number
}

// è®©å‚æ•°æ³›å‹ç»§æ‰¿æ¥å£
function logging<T extends ILength>(arg:T):T{
  console.log(arg.length);
  return arg
}

logging([1,2,3])
// logging(112) //ç±»å‹â€œnumberâ€çš„å‚æ•°ä¸èƒ½èµ‹ç»™ç±»å‹â€œILengthâ€çš„å‚æ•°ã€‚
logging('sdfsfsf34')  // ä¹Ÿå¯ä»¥ä¼ å­—ç¬¦ä¸²

```

æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬ç”¨äº† `extends`çº¦æŸäº†æ³›å‹ `T` å¿…é¡»ç¬¦åˆ `ILength` æ¥å£çš„å½¢çŠ¶ï¼Œå³å¿…é¡»è¦åŒ…å« `length` å±æ€§ã€‚å¦‚æœä¼ å…¥ä¸åˆæ³•å‚æ•°ï¼Œå°±æŠ¥é”™ã€‚





### 6.4 æ³›å‹æ¥å£

å‰é¢æˆ‘ä»¬å­¦ä¹ è¿‡æ¥å£å®šä¹‰å‡½æ•°ï¼Œå¯ä»¥å®ç°æ¥å£æ¥çº¦æŸå‡½æ•°è¦ç¬¦åˆçš„å½¢çŠ¶ã€‚

```ts
// ç”¨æ¥å£å®šä¹‰å‡½æ•°
interface IFunc{
  (x:number,y:number):number
}
// å®šä¹‰ç¬¦åˆè¿™ä¸ªæ¥å£çš„å‡½æ•°
const sum5:IFunc=(m:number,n:number):number=>{
  return m+n
}
```

ä¹Ÿå¯ä»¥ä½¿ç”¨å«æœ‰æ³›å‹çš„æ¥å£æ¥å®šä¹‰å‡½æ•°çš„å½¢çŠ¶ã€‚

```ts
// å®šä¹‰æ¥å£ 
interface ICreateArray{
  <T>(value:T,length:number):T[]
}

// è®©createArray3æ–¹æ³•å»å®ç°æ¥å£ ICreateArray
const  createArray3:ICreateArray=<T>(value:T,length:number):T[]=>{
  let res:T[]=[]
  for (let i = 0; i < length; i++) {
    res[i]=value
  }
  return res
}

createArray3('99',2)
```



### 6.6 æ³›å‹ç±»

æ³›å‹ç±»çœ‹ä¸Šå»ä¸æ³›å‹æ¥å£å·®ä¸å¤šã€‚ æ³›å‹ç±»ä½¿ç”¨ï¼ˆ `<>`ï¼‰æ‹¬èµ·æ³›å‹ç±»å‹ï¼Œè·Ÿåœ¨ç±»ååé¢ã€‚

æ¡ˆä¾‹ï¼šæ–°å»ºä¸€ä¸ªé˜Ÿåˆ—ç±»ä¸Šå®ç°ä¸¤ä¸ªæ–¹æ³•ï¼Œè¿›å…¥é˜Ÿåˆ—ï¼Œç¦»å¼€é˜Ÿåˆ—ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨æ³›å‹ç±»ã€‚

```ts

// ç±»åç§°ä¹‹åä¼ å…¥æ³›å‹
class Queue<T>{
  private arr:T[]=[]
  // å…¥é˜Ÿ
  push(item:T):T[]{
    this.arr.push(item)
    return this.arr
  }
  // å‡ºé˜Ÿ
  pop():T[]{
    this.arr.shift()
    return this.arr
  }
}
// å®ä¾‹åŒ– ä¼ å…¥ç±»å‹
let queue1: Queue<string>= new Queue<string>()
console.log(queue1.push('hello'));
console.log(queue1.push('apple'));
console.log(queue1.push('orange'));
// console.log(queue1.push(77)); //ç±»å‹â€œnumberâ€çš„å‚æ•°ä¸èƒ½èµ‹ç»™ç±»å‹â€œstringâ€çš„å‚æ•°ã€‚
console.log(queue1.pop());  //Â ['apple', 'orange']

let queue2: Queue<number>=new Queue<number>()
console.log(queue2.push(1));
console.log(queue2.push(2));
console.log(queue2.push(3));
console.log(queue2.pop()); 
```



 





