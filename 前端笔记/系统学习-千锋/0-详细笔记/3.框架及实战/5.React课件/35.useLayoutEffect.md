## ä¸€ã€æ¦‚å¿µ
ç»„ä»¶æŒ‚è½½æˆ–æ¸²æŸ“å®ŒæˆåŽè°ƒç”¨ã€‚useLayoutEffectä½¿ç”¨æ–¹æ³•ã€æ‰€ä¼ å‚æ•°å’ŒuseEffectå®Œå…¨ç›¸åŒã€‚
ä»–ä»¬çš„ä¸åŒç‚¹åœ¨äºŽï¼Œä½ å¯ä»¥æŠŠuseLayoutEffectç­‰åŒäºŽcomponentDidMountã€componentDidUpdateï¼Œå› ä¸ºä»–ä»¬è°ƒç”¨é˜¶æ®µæ˜¯ç›¸åŒçš„ã€‚è€ŒuseEffectæ˜¯åœ¨componentDidMountã€componentDidUpdateè°ƒç”¨ä¹‹åŽæ‰ä¼šè§¦å‘çš„ã€‚
ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ç»„ä»¶æ‰€æœ‰DOMéƒ½æ¸²æŸ“å®ŒæˆåŽï¼ŒåŒæ­¥è°ƒç”¨useLayoutEffectï¼Œç„¶åŽå†è°ƒç”¨useEffectã€‚
useLayoutEffectæ°¸è¿œè¦æ¯”useEffectå…ˆè§¦å‘å®Œæˆ
## äºŒã€ä½œç”¨
åœ¨è§¦å‘useLayoutEffecté˜¶æ®µæ—¶ï¼Œé¡µé¢å…¨éƒ¨DOMå·²ç»æ¸²æŸ“å®Œæˆï¼Œæ­¤æ—¶å¯ä»¥èŽ·å–å½“å‰é¡µé¢æ‰€æœ‰ä¿¡æ¯ï¼ŒåŒ…æ‹¬é¡µé¢æ˜¾ç¤ºå¸ƒå±€ç­‰ï¼Œä½ å¯ä»¥æ ¹æ®éœ€æ±‚ä¿®æ”¹è°ƒæ•´é¡µé¢ã€‚
è¯·æ³¨æ„ï¼ŒuseLayoutEffectå¯¹é¡µé¢çš„æŸäº›ä¿®æ”¹è°ƒæ•´å¯èƒ½ä¼šè§¦å‘ç»„ä»¶é‡æ–°æ¸²æŸ“ã€‚å¦‚æžœæ˜¯å¯¹DOMè¿›è¡Œä¸€äº›æ ·å¼è°ƒæ•´æ˜¯ä¸ä¼šè§¦å‘é‡æ–°æ¸²æŸ“çš„ï¼Œè¿™ç‚¹å’ŒuseEffectæ˜¯ç›¸åŒçš„ã€‚
åœ¨reactå®˜æ–¹æ–‡æ¡£ä¸­ï¼Œæ˜Žç¡®è¡¨ç¤ºåªæœ‰åœ¨useEffectä¸èƒ½æ»¡è¶³ä½ ç»„ä»¶éœ€æ±‚çš„æƒ…å†µä¸‹ï¼Œæ‰åº”è¯¥è€ƒè™‘ä½¿ç”¨useLayoutEffectã€‚ å®˜æ–¹æŽ¨èä¼˜å…ˆä½¿ç”¨useEffectã€‚
## ä¸‰ã€ä¾‹å­
> å…¶å®žå‘¢ï¼Œç›®å‰æ¥çœ‹èƒ½å¤Ÿæƒ³åˆ°çš„åœºæ™¯éƒ½å¯ä»¥ç”¨useEffectæ¥ä»£æ›¿ðŸ¤”

```jsx
import React, { useState, useEffect, useLayoutEffect } from 'react';
export default function hook() {
  const [state, setState] = useState("hello world")

  // ä¼šå‡ºçŽ°é—ªçƒ
  // useEffect(() => {
  //   let i = 0;
  //   while (i <= 1000000000) {
  //     i++;
  //   };
  //   setState("æˆ‘æ˜¯useEffect");
  // }, []);

  // ä¸ä¼šå‡ºçŽ°é—ªçƒ
  useLayoutEffect(() => {
    let i = 0;
    while (i <= 100000000) {
      i++;
    };
    setState("æˆ‘æ˜¯useLayoutEffect");
  }, []);

  return (
    <div>
      <div>{state}</div>
    </div>
  )
}
```
