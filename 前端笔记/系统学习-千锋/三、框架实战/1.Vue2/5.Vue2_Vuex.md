#### 1. Vuex 模块化

npm i vuex@3 下载 vuex

新建 store 文件夹，下建 index.js 文件

```js
import Vue from 'vue'
import Vuex from 'vuex'

import test from './modules/test.js'

Vue.use(Vuex)

const store = new Vuex.Store({
  modules: {
    test,
  },
})

export default store
```

在 store 文件夹下建 modules 文件夹，里面新建 test.js 模块

```js
const state = {
  num: 1,
}
const mutations = {
  ADD(state, val) {
    state.num += val	// 尽量只是修改state数据，而不做其他
  },
}
const actions = {
  add({ commit }, val) {
    // 在这可以写一些复杂的逻辑，如发送网络请求，判断值是否满足条件等等
    commit('ADD', val)	// 如果只是简单的转发命令，则可以省略该action，在组件中直接commit即可
  },
}

export default {
  namespaced: true, // 命名空间，使用时区分模块：this.$store.dispatch('test/add', 2)
  state,
  mutations,
  actions,
}
```

使用：`this.$store.state.test.num` 、`this.$store.dispatch('test/add', 2)` 、`this.$store.commit('test/ADD', 2)` 、`this.$store.getters['test/num']`

