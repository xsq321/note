#### 1. 组件通信

##### 1.1. props 传值

父传子时传递普通数据，子传父时传递函数（子组件调用函数时传递参数给父组件；==vue 内部对 methods 中函数的 this 指向进行了修改，不管是谁调用都指向自己组件的 vc ，vc 是组件实例对象的简称==）

通过对象形式可实现 prop 的验证：[prop验证详细内容](https://v2.cn.vuejs.org/v2/guide/components-props.html#Prop-验证)

子组件在 beforeCreate 生命周期就可以使用 props 了，而 data 需在 created 后开始使用

##### 1.2. 自定义事件

父组件通过 props 传递给子组件的数据，子组件不能修改，但可通过自定义事件由子组件通知父组件修改，同时可传递参数给父组件；代替了使用 props 传递函数给子组件

父组件监听自定义的子组件事件 `<子组件 @事件名='函数名'>` ，子组件通过 `this.$emit('事件名',参数)` 触发

父组件也可以在任何位置通过 `this.$refs.xxx.$on('事件名',函数名)`  监听事件，比 props 更灵活；且自定义事件不需要用 props 接收参数，更方便

##### 1.3. 全局事件总线

```
Vue.prototype.$bus = this	// 配置事件总线，就是把vm挂载到Vue的原型上，使$bus拥有$emit和$on方法
```

组件通过 `this.$bus.$emit('事件名',参数)` 传递参数，通过 `this.$bus.$on('事件名',函数名)` 获取参数

##### 1.4. 组件实例和 Vue 实例

每个组件都是一个 VueComponent 构造函数，每用一次组件标签就会创建一个对应的组件实例对象，其实 Vue 解析组件标签时执行了 new VueComponent(options) 

组件内部的 this 指向当前组件的实例（VueComponent 实例对象）；new Vue 中的this指向的是 Vue 实例对象

==Vue 强制让 VueComponent 的原型对象的隐式原型指向了 Vue 的原型对象，这样组件实例的原型链上就有了 Vue 的原型对象，使得组件实例可以使用 Vue 原型对象上的属性和方法==

```
Vuecomponent.prototype.__proto__ === Vue.prototype
```

##### 1.5. 处理边界

详细内容：https://v2.cn.vuejs.org/v2/guide/components-edge-cases.html

this.$root 可以访问根实例（是 vue 的实例 vm ，就是通过 new Vue 出来的那个 Vue 根实例，而不是根组件 App的实例），this.$parent 可以访问父组件实例，this.$refs.xxx 访问指定子组件实例



#### 2. 生命周期













